\documentclass[12pt, french]{book}
\input preambule_2016
\input{commandes_2016}

\pagestyle{empty}

\usepackage{varwidth}
\usepackage[breakable, skins, raster]{tcolorbox}

\newtcolorbox{Rmq}[1][]{enhanced,
    before skip=7mm,
    after skip=10mm,
    boxrule=0.4pt,
    left=5mm,
    right=2mm,
    top=1mm,
    bottom=1mm,
    colback=yellow!50,
    colframe=yellow!20!black,
    sharp corners, rounded corners=southeast, arc is angular, arc=3mm,
    underlay={%
        \path[fill=tcbcol@back!80!black] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
        \path[draw=tcbcol@frame,shorten <=-0.05mm,shorten >=-0.05mm] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
        \path[fill=yellow!50!black,draw=none] (interior.south west) rectangle node[white]{\Huge\bfseries !} ([xshift=4mm]interior.north west);
        },
    drop fuzzy shadow,
    #1}
    
    
\newtcolorbox{Exemple}[1][]{
    enhanced jigsaw,
    before skip=7mm,
    after skip=10mm,
    boxsep=0pt,
    top=10pt,
    colframe=red,
    coltitle=red!50!black,
    colback=red!5,
    fonttitle=\bfseries\sffamily,
    attach boxed title to bottom center,
    boxed title style={empty, boxrule=0.5mm},
    varwidth boxed title=0.75\linewidth,
    underlay boxed title={
        \draw[white, line width=0.5mm]
            ([xshift=0.3mm-\tcboxedtitleheight*2,yshift=0.3mm]title.north west)
            --([xshift=-0.3mm+\tcboxedtitleheight*2,yshift=0.3mm]title.north east);
        \path[draw=red, top color=white, bottom color=red!50!white, line width=0.5mm]
            ([xshift=0.25mm-\tcboxedtitleheight*2,yshift=0.25mm]title.north west)
                cos +(\tcboxedtitleheight,-\tcboxedtitleheight/2)
                sin +(\tcboxedtitleheight,-\tcboxedtitleheight/2)
            -- ([xshift=0.25mm,yshift=0.25mm]title.south west)
            -- ([yshift=0.25mm]title.south east)
                cos +(\tcboxedtitleheight,\tcboxedtitleheight/2)
                sin +(\tcboxedtitleheight,\tcboxedtitleheight/2);
        },
    drop fuzzy shadow,
    title={Exemple #1}}


\newtcolorbox{ExempleBis}[1][]{
    enhanced,
    before skip=7mm,
    after skip=10mm,
    colback=black!5,
    colframe=black!50,
    boxrule=0.2mm,
    attach boxed title to top left={xshift=1cm, yshift*=1mm-\tcboxedtitleheight},
    varwidth boxed title*=-3cm,
    boxed title style={
        frame code={
            \path[fill=tcbcol@back!30!black]
                ([yshift=-1mm,xshift=-1mm]frame.north west)
                    arc[start angle=0,end angle=180,radius=1mm]
                ([yshift=-1mm,xshift=1mm]frame.north east)
                    arc[start angle=180,end angle=0,radius=1mm];
            \path[left color=tcbcol@back!60!black, right color=tcbcol@back!60!black, middle color=tcbcol@back!80!black]
                ([xshift=-2mm]frame.north west) -- ([xshift=2mm]frame.north east)
                [rounded corners=1mm]-- ([xshift=1mm,yshift=-1mm]frame.north east)
                -- (frame.south east) -- (frame.south west)
                -- ([xshift=-1mm,yshift=-1mm]frame.north west)
                [sharp corners]-- cycle;
        },
        interior engine=empty,
    },
    fonttitle=\bfseries,
    title={Exemple #1}
}




\newtcolorbox{ExempleTer}[1][]{
    enhanced,
    breakable,
    middle=20pt,
    before skip=7mm,
    after skip=10mm,
    colback=ForestGreen!5,
    colframe=ForestGreen!50,
    collower=Plum,
    segmentation code={\draw[dashed] (segmentation.west) -- (segmentation.east) node[pos=0.1, fill={ForestGreen!5}] {\textbf{Solution}};},
    boxrule=0.2mm,
    attach boxed title to top={xshift=0cm, yshift*=1mm-\tcboxedtitleheight},
    varwidth boxed title*=-3cm,
    boxed title style={
        frame code={
            \path[fill=tcbcol@back!30!ForestGreen]
                ([yshift=-1mm,xshift=-1mm]frame.north west)
                    arc[start angle=0,end angle=180,radius=1mm]
                ([yshift=-1mm,xshift=1mm]frame.north east)
                    arc[start angle=180,end angle=0,radius=1mm];
            \path[left color=tcbcol@back!60!ForestGreen, right color=tcbcol@back!60!ForestGreen, middle color=tcbcol@back!80!ForestGreen]
                ([xshift=-2mm]frame.north west) -- ([xshift=2mm]frame.north east)
                [rounded corners=1mm]-- ([xshift=1mm,yshift=-1mm]frame.north east)
                -- (frame.south east) -- (frame.south west)
                -- ([xshift=-1mm,yshift=-1mm]frame.north west)
                [sharp corners]-- cycle;
        },
        interior engine=empty,
    },
    fonttitle=\bfseries,
    title={Exemple #1}
}



\newtcolorbox{Solution}[1][]{
    width=0.7\linewidth, center,
    enhanced,
    before skip=7mm,
    after skip=10mm,
    colback=Melon!5,
    colframe=Melon!50,
    boxrule=0.2mm,
    attach boxed title to top right={xshift=-1cm, yshift*=1mm-\tcboxedtitleheight},
    varwidth boxed title*=-3cm,
    boxed title style={
        frame code={
            \path[fill=tcbcol@back!30!Melon]
                ([yshift=-1mm,xshift=-1mm]frame.north west)
                    arc[start angle=0,end angle=180,radius=1mm]
                ([yshift=-1mm,xshift=1mm]frame.north east)
                    arc[start angle=180,end angle=0,radius=1mm];
            \path[left color=tcbcol@back!60!Melon, right color=tcbcol@back!60!Melon, middle color=tcbcol@back!80!Melon]
                ([xshift=-2mm]frame.north west) -- ([xshift=2mm]frame.north east)
                [rounded corners=1mm]-- ([xshift=1mm,yshift=-1mm]frame.north east)
                -- (frame.south east) -- (frame.south west)
                -- ([xshift=-1mm,yshift=-1mm]frame.north west)
                [sharp corners]-- cycle;
        },
        interior engine=empty,
    },
    fonttitle=\bfseries,
    title={Solution #1}
}


\begin{document}

Une remarque :

\begin{Rmq}
Les formes indéterminées sont du type : "$\infty-\infty$" , "$0 \times \infty$", $\dfrac{"0"}{0}$ et $\dfrac{"\infty"}{\infty}$.
\end{Rmq}

Un exemple :

\begin{Exemple}
On considère la suite $(u_n)$ définie par $u_0=2$ et pour tout entier naturel $n$, $u_{n+1}=3u_n - 2$.

Conjecturer une expression de $u_n$ en fonction de $n$.
\end{Exemple}


Autre type d'exemple :

\begin{ExempleBis}
On considère la suite $(u_n)$ définie par $u_0=2$ et pour tout entier naturel $n$, $u_{n+1}=3u_n - 2$.

Conjecturer une expression de $u_n$ en fonction de $n$.
\end{ExempleBis}

Avec sa solution :


\begin{Solution}
Pour tout entier naturel $n$, $u_n = 3^n+1$.
\end{Solution}

Autre présentation d'un exemple et sa solution dans un seul cadre :

\begin{ExempleTer}
Montrer que la suite $(u_n)$ définie sur $\N$ par $u_0 = 2$ et $u_{n+1} = \sqrt{u_n}$ est bornée par $1$ et $2$ autrement dit que pour tout entier $n$ , $1 \leq u_n \leq 2$.

\tcblower

Par récurrence, ...

Initialisation : $n=0$

Hérédité : Par HR, $1 \leq u_p  \leq 2$, la fonction racine carrée étant strictement croissante sur $\R$,
$1 \leq \sqrt{u_p} \leq \sqrt{2}$ donc $1 \leq u_{p+1} \leq \sqrt{2} < 2$ la propriété est vraie au rang $p+1$

Conclusion : Pour tout entier naturel $n$, $1 \leq u_n \leq 2$.
\end{ExempleTer}
\end{document}





