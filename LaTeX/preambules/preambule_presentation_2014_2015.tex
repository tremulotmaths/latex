%packages permettant d'augmenter le nombre de registres de dimension et donc d'éviter les erreurs de compilation dûs aux packages tikz, pstricks and co
\usepackage{etex}

\usefonttheme{serif}
% option [handout] à ajouter pour bloquer les animations et rendre le doc imprimable
% option [mathserif] permet de retrouver la police habituelle pour les formules mathématiques ; cela ne modifie pas la police du texte

%Thèmes Beamer :
\usetheme{Warsaw}

%\usetheme[left,hideallsubsections]{Paloalto}
%\usetheme{PaloAlto}

%Pour le thème PaloAlto
%\useoutertheme{sidebar}
%\useinnertheme[shadow=true]{rounded}
%\usecolortheme{orchid}
%\usecolortheme{whale}
%\setbeamercolor*{frametitle}{parent=palette primary}
%\setbeamerfont{block title}{size={}}

\usepackage{tipa}%alphabet phonétique internationnal

\usepackage[upright]{fourier}% l'option permet d'avoir les majuscules droites dans les formules mathématiques
\usepackage[utf8x]{inputenc}
%\usepackage[latin1,utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english,french]{babel}
\AddThinSpaceBeforeFootnotes % à insérer si on utilise \usepackage[french]{babel}
\FrenchFootnotes % à insérer si on utilise \usepackage[french]{babel}
%s'utilise ainsi : Les Représentants\footnote{ceci est une note} du Peuple Français
\DecimalMathComma %supprime l'espace après la virgule dans un nombre

\usepackage{enumerate} % pour pouvoir changer la numérotation des listes
\usepackage{enumitem}
\frenchbsetup{StandardLists=true}%frenchb ne s'occupera pas des listes
\setenumerate[1]{font=\bfseries\color{blue},label=\arabic*.} % numérotation 1. 2. ...
\setenumerate[2]{font=\bfseries\color{blue},label=\alph*)} % sous-numérotation a) b) ...

\usepackage[scaled=0.875]{helvet}
\renewcommand{\ttdefault}{lmtt}


\usepackage{mathtools,amsmath,amssymb,makeidx}


%redéfinition de fractions, limites, sommes, intégrales, coefficients binomiaux en displaystyle, limites de suites
\let\binomOld\binom
\renewcommand{\binom}{\displaystyle\binomOld}
%\let\fracOld\frac
%\renewcommand{\frac}{\displaystyle\fracOld}
\let\limOld\lim
\renewcommand{\lim}{\displaystyle\limOld}
\newcommand{\limn}{\lim_{n\to +\infty}}
\newcommand{\limm}{\lim_{x\to -\infty}}
\newcommand{\limp}{\lim_{x\to +\infty}}
\newcommand{\limz}{\lim_{x\to 0}}
\newcommand{\limzm}{\lim_{\substack{x \to 0\\ x < 0}}}
\newcommand{\limzp}{\lim_{\substack{x \to 0\\ x > 0}}}
\let\sumOld\sum
\renewcommand{\sum}{\displaystyle\sumOld}
\let\intOld\int
\renewcommand{\int}{\displaystyle\intOld}

%Calligraphie spéciale
\usepackage{mathrsfs}   % Police de maths jolie caligraphie
\newcommand{\calig}[1]{\ensuremath{\mathscr{#1}}}
\newcommand\mtc[1]{\ensuremath{\mathcal{#1}}}


%Nombres complexes
\let\Reold\Re
\renewcommand{\Re}{~\text{Re}~}
\let\Imold\Im
\renewcommand{\Im}{~\text{Im}~}
\newcommand{\ii}{\,\mathrm{i}}

%style des pages
\usepackage{fancybox,cancel}
\usepackage{fancyhdr}
\usepackage{lastpage}
%redéfinition du style plain
\fancypagestyle{plain}{%
\fancyhf{} %vide l'en-tête et le pied de page
%\fancyfoot[C]{\bfseries \thepage / \pageref{LastPage}} %numéro de la page en gras et centré
\fancyfoot[C]{\thepage / \pageref{LastPage}} %numéro de la page centré
\renewcommand{\headrulewidth}{0.2pt}
\renewcommand{\footrulewidth}{0.2pt}}

%___________________________
%===    Raccourcis classe
%------------------------------------------------------
\newcommand\seconde{2\up{nde}\xspace}
\newcommand\premiere{1\up{ère}\xspace}
\newcommand\terminale{T\up{le}\xspace}
\newcommand\stmg{\bsc{Stmg}}
\newcommand\sti{\bsc{Sti2d}}
\newcommand\bat{BAT 1\xspace}
\newcommand\BAT{BAT 2\xspace}
\newcommand\tesspe{TES Spécialité\xspace}

\usepackage{stmaryrd}%\llbracket et \rrbracket % crochets doubles pour intervalles d'entier
%symbole parallèle avec \sslash

\newcommand{\crochets}[2]{\ensuremath{\llbracket #1 ; #2 \rrbracket}}

\newcommand{\intervalleff}[2]{\left[#1\,;#2\right]}
\newcommand{\intervallefo}[2]{\left[#1\,;#2\right[}
\newcommand{\intervalleof}[2]{\left]#1\,;#2\right]}
\newcommand{\intervalleoo}[2]{\left]#1\,;#2\right[}


%Gestion des espaces
%
\newcommand{\pv}{\ensuremath{\: ; \,}}
\newlength{\EspacePV}
\setlength{\EspacePV}{1em plus 0.5em minus 0.5em}
\newcommand{\qq}{\hspace{\EspacePV} ; \hspace{\EspacePV}}
\newcommand{\qetq}{\hspace{\EspacePV} \text{et} \hspace{\EspacePV}}
\newcommand{\qouq}{\hspace{\EspacePV} \text{ou} \hspace{\EspacePV}}
\newcommand{\qLq}{\hspace{\EspacePV} \Leftarrow \hspace{\EspacePV}}
\newcommand{\qRq}{\hspace{\EspacePV} \Rightarrow \hspace{\EspacePV}}
\newcommand{\qLRq}{\hspace{\EspacePV} \Leftrightarrow \hspace{\EspacePV}}

%TABLEAU
%diminuer la taille des caractères dans un tableau
%Pour aérer un tableau, il est possible de redéfinir l'espacement entre les lignes d'un tableaux et l'espacement entre les colonnes, par exemple :
\usepackage{array}
%\setlength{\tabcolsep}{1cm}
\renewcommand{\arraystretch}{1.5}%augmente la hauteur des lignes des tableaux
%colonnes centrées verticalement et horizontalement permettant d'écrire des paragraphes de largeur fixée du type M{3cm}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}%\arraybackslash permet de continuer à utiliser \\ pour le changement de ligne
%couleurs cellules, colonnes, lignes
\usepackage{color,colortbl}
\usepackage{longtable}%permet d'obtenir des tableaux sur plusieurs pages
\usepackage%[table]
{xcolor}
%\usepackage{arydshln}% pour pouvoir ajouter des lignes horizontales en pointillés avec \hdashline au lieu de \hline
%pose des problèmes d'encadré avec alterqcm

%ALGORITHME avec Algobox
\usepackage{ucs}
%\usepackage{xcolor}
\usepackage{framed}
\definecolor{fond}{gray}{0.95}
\newenvironment{cadrecode}{%
  \def\FrameCommand{{\color[HTML]{888888}\vrule width 3pt}\colorbox{fond}}%
  \MakeFramed {\advance\hsize-\width \FrameRestore}}%
{\endMakeFramed}
\usepackage{alltt}

%arbres
\usepackage{pstricks,pst-plot,pst-text,pst-tree,pstricks-add}

%tabvar %packages à ajouter aux précédents
\usepackage{pst-eps,pst-fill,pst-node,pst-math}
%\input tabvar %ajouter le fichier tabvar.tex dans le même dossier que le fichier actuel
%à utiliser uniquement lors d'un tableau de signes et de variations


%INTERLIGNES
\usepackage{setspace}
%s'utilise avec \begin{spacing}{''facteur''}
%   []
%\end{spacing}

%IMAGES
\usepackage{graphicx} %inclure des graphiques
\usepackage{caption}
\usepackage{subfig}

\usepackage{tabularx}
\usepackage{soul} % Pour souligner : \ul
\usepackage{ulem} % Pour souligner double : \uuline
                      % Pour souligner ondulé : \uwave
                      % Pour barrer horizontal : \sout
                      % Pour barrer diagonal : \xout
\usepackage{slashbox}
\usepackage{textcomp}
\usepackage{pst-plot}

\usepackage[np]{numprint}


%ENCADRES
\usepackage{pstricks}
\usepackage{pst-grad}
\usepackage{xkeyval}
\usepackage{pst-coil}
\usepackage{ifthen}
\usepackage{ifpdf}
\usepackage{pst-blur}
\usepackage{bclogo}
%doc ici :
%http://www.tug.org/texlive/Contents/live/texmf-dist/doc/latex/bclogo/bclogo-doc.pdf

%figures tikz
\usepackage{tikz,tkz-base,tkz-fct,tkz-euclide,tkz-tab,tkz-graph,tikz-3dplot}
\usetkzobj{all}
\usetikzlibrary{calc,shapes,arrows,plotmarks,lindenmayersystems,decorations,decorations.markings,decorations.pathmorphing,
decorations.pathreplacing,patterns,positioning}


%raccourcis perso
\newcommand\pfr[1]{\psframebox[linecolor=red]{#1}}
\newcommand\coef[1][]{c{\oe}fficient#1\xspace}
\newcommand\abs[1]{\ensuremath{\left\vert #1 \right\vert}}%valeur absolue
\newcommand\Arc[1]{\ensuremath{\wideparen{#1}}}%arc de cercle

%liens hypertexte
%\usepackage[colorlinks=true,linkcolor=black,filecolor=blue,urlcolor=blue]
\usepackage{hyperref}
%\href{mailto:mail@exemple.com}{Mon mail} % Lien email
%\href{http://exemple.com}{Mon site web}  % Lien web
%\href{fichier.pdf}{Mon fichier}          % Lien vers un fichier

\newcommand{\euro}{\texteuro{}~}

%simplification notation norme \norme{}
\newcommand{\norme}[1]{\left\Vert #1\right\Vert}

%Ensembles de nombres
\usepackage{dsfont}
\newcommand{\C}{\mathds C}
\newcommand{\R}{\mathds R}
\newcommand{\Q}{\mathds Q}
\newcommand{\D}{\mathds D}
\newcommand{\Z}{\mathds Z}
\newcommand{\N}{\mathds N}
\newcommand\Ind{\mathds 1} %= fonction indicatrice
\newcommand\p{\mathds P} %= probabilité
\newcommand\E{\mathds E} % Espérance
\newcommand\V{\mathds V} % Variance
\newcommand{\e}{\mathrm {e}}
\newcommand{\dd}{\,\mathrm{d}}

%simplification de la notation de vecteur \vect{}
\newcommand{\vect}[1]{\mathchoice%
{\overrightarrow{\displaystyle\mathstrut#1\,\,}}%
{\overrightarrow{\textstyle\mathstrut#1\,\,}}%
{\overrightarrow{\scriptstyle\mathstrut#1\,\,}}%
{\overrightarrow{\scriptscriptstyle\mathstrut#1\,\,}}}




%Repères
\def\Oij{$\left(\text{O}\pv\vect{\imath},~\vect{\jmath}\right)$\xspace}
\def\Oijk{$\left(\text{O}\pv\vect{\imath},~ \vect{\jmath},~ \vect{k}\right)$\xspace}
\def\Ouv{$\left(\text{O}\pv\vect{u},~\vect{v}\right)$\xspace}
\def\OIJ{$\left(O\pv I\:,\,J\right)$\xspace}



%Symboles Casio dans les programmes
\usepackage{pifont} % ça c'est pour le retour chariot
\newcommand{\RetourChariot}{\Pisymbol{psy}{191}}


%Pointillés sur toute la ligne
\usepackage{multido}

\newcommand{\Pointilles}[1][1]{%
\multido{}{#1}{\makebox[\textwidth]{\dotfill}\\[\parskip]
}}
%commandes : \Pointilles ou \Pointilles[4] pour 4 lignes


%textes à trous
\newlength\lgtrou
\newcommand*\trou[1]{%
\settowidth\lgtrou{#1}%
\hspace*{2\lgtrou}}
\setlength\baselineskip{1.2\baselineskip}
%Commande à utiliser : \trou{texte qui sera remplacé par un espace vide}



%%%% Papier millim\'er\'ex*y en cm
\newcommand{\PapierMill}[2]{%
	\begin{pspicture*}(0,0)(#1,#2)
	
	\psgrid[gridwidth=0.3pt,
		gridlabels=0,
		subgriddiv=10,
		subgridcolor=black,
		subgridwidth=0.05pt](0,0)(21,29.7) % il faut \'ere sr
				% que \'e d\'easse, sinon il y a des soucis avec
				% des lignes qui ne vont pas jusqu'au bout
				% \'ecause des arrondis entier de multido
				% pspicture* coupe aux bonnes dimensions
	
	% Grille de 5cm en 5cm
	\psgrid[xunit=5,yunit=5,gridwidth=0.5pt,
		gridlabels=0,
		subgriddiv=0](0,0)(#1,#2)%
		
	\psline[linewidth=1.5pt](0,0)(0,#2)(#1,#2)(#1,0)(0,0)	
	\end{pspicture*}
	}


% Ecrire sur plusieurs colonnes
\usepackage{multicol}
\setlength{\columnseprule}{0.5pt}
%exemple
%\begin{multicols}{3}[Titre sur une seule colonne.]
%   3~colonnes équilibrées, 3~colonnes équilibrées, 3~colonnes équilibrées, 3~colonnes équilibrées
%\end{multicols}
%\begin{multicols}{2}[\section{Titre numéroté.}]
%   blabla sur deux colonnes, c'est plus sérieux. C'est le style qui est généralement utilisé pour écrire des articles.
%saut de colonne forcé : 
%\columnbreak
%djhskjdhjsq
%sdkksqjhd
%\end{multicols}
%Pour ajouter un titre numéroté qui apparaisse sur toute la largeur de la page, il faut utiliser l'option [\section{Titre.}] juste après \begin{multicols}{nb-col}.
%Remarques :
%+ Pour qu'une ligne de séparation apparaisse entre les colonnes, il faut utiliser : \setlength{\columnseprule}{1pt}.

%+ Pour redéfinir la largeur de l'espace inter-colonnes, il faut utiliser \setlength{\columnsep}{30pt}.

%Pour remonter le texte, dans chaque colonne vers le haut : \raggedcolumns qui se tape :\begin{multicols}{2}\raggedcolumns...\columnbreak...\columnbreak\end{multicols}

%Pour supprimer les traits verticaux : \setlength{\columnseprule}{0pt} avant \begin{multicols}{3}...\end{multicols}

%QRcode, codebarre
\usepackage{pst-barcode}
%\begin{pspicture}(2,2)
%	\psbarcode{http://www.latex-howto.be}{eclevel=M}{qrcode}
%\end{pspicture}

%Texte en filigrane
\usepackage{watermark}
%On utilise ensuite les commandes \watermark, \leftwatermark, \rightwatermark ou \thiswatermark qui permettent de définir un filigrane sur toutes les pages, les pages paires, les pages impaires ou juste une page
%Exemple : \thiswatermark {
%\begin{minipage}{0.95\linewidth}
%\vspace{25cm}
%\begin{center}
%\rotatebox{55}{\scalebox{8}{\color[gray]{0.7}\LaTeX}}
%\end{center}
%\end{minipage}
%}


%Permettre la même numérotation beamer
\newcounter{MonPetitCompteur}
\setbeamertemplate{section in toc}{%
\edef\MaDefTemp{\noexpand\setcounter{MonPetitCompteur}{\inserttocsectionnumber}}\MaDefTemp%
\Roman{MonPetitCompteur} - \inserttocsection\par}

\setbeamertemplate{subsection in toc}{%
\leavevmode\leftskip=1.5em%
\edef\MaDefTemp{\noexpand\setcounter{MonPetitCompteur}{\inserttocsubsectionnumber}}\MaDefTemp%
\arabic{MonPetitCompteur}) \inserttocsubsection\par}

%\usepackage{mathtools} %pour l'alignement des termes d'une matrice

% Mise en forme des algorithmes
\usepackage[french,boxed,titlenumbered,lined,longend]{algorithm2e}
  \SetKwIF {Si}{SinonSi}{Sinon}{si}{alors}{sinon\_si}{alors}{fin~si}
 \SetKwFor{Tq}{tant\_que~}{~faire~}{fin~tant\_que}
 \SetKwFor{PourCh}{pour\_chaque }{ faire }{fin pour\_chaque}
 \SetKwInput{Sortie}{Sortie}
  \SetKwInput{Entree}{Entrée}
\newcommand{\Algocmd}[1]{\textsf{\textsc{\textbf{#1}}}}\SetKwSty{Algocmd}
  \newcommand{\AlgCommentaire}[1]{\textsl{\small  #1}} 

\AtBeginSection{
   \begin{frame}%{\textcolor{red}{\shadowbox{Plan}}}
   \Large%
   \tableofcontents[currentsection,currentsubsection]
   \end{frame}}

\AtBeginSubsection{  
  \begin{frame}%{\textcolor{red}{\shadowbox{Plan}}}
   \Large%
 \tableofcontents[currentsection,currentsubsection]
   \end{frame}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usetikzlibrary{shadows,trees}


%\Leftrightarrow
\newcommand{\Lr}{\Leftrightarrow}

\pagecolor{white}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%___________________________
%===    TABLEUR
%------------------------------------------------------
\usepackage{pas-tableur}
\usepackage{xstring}
\usepackage{xkeyval}