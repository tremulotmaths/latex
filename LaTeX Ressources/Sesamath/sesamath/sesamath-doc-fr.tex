\documentclass[nocrop]{sesamanuel}
\usepackage{sesamath-doc}
\usepackage{sesamanuelTIKZ}
\let\ifluatex\relax
\usepackage{hyperref}

\begin{document}
 
\themaM
\colorlet{ChapterNumColor}{PartieFonction}
\chapter{Sesamanuel\\Documentation}

\begin{commentaire}
Documentation pour l'utilisation de la classe \LaTeX{} \environ{sesamanuel.cls} et des packages \environ{sesamanuel.sty} et \environ{sesamanuelTIKZ.sty} de \Logosesa{}.

\textcolor{PrerequisTitleColor}{\PrerequisTitleFont 
Partie \ref{chIntro}: Introduction \dotfill\ page \pageref{chIntro}}

Cette partie contient une présentation de la classe : historique, méthode d'installation, méthode de compilation.

\textcolor{PrerequisTitleColor}{\PrerequisTitleFont 
Partie \ref{chClsPourOuvrage}: Classe pour un ouvrage  \dotfill\ page \pageref{chClsPourOuvrage}}

Si vous souhaitez utiliser la structure complète de la classe pour composer un manuel (un ou plusieurs chapitres accompagnés d'annexes), vous trouverez dans cette partie, les explications de toutes les commandes crées par cette classe, leur fonctionnement et les possibilités de personnalisation. 

\textcolor{PrerequisTitleColor}{\PrerequisTitleFont 
Partie \ref{chClsPourQQFeuilles}: Classe pour quelques feuilles  \dotfill\ page \pageref{chClsPourQQFeuilles}}

Si vous souhaitez intégrer quelques extraits choisis du manuel \Logosesa{} 2\up{de} dans des documents sans utiliser la classe complète, vous trouverez votre bonheur dans cette partie.

\textcolor{PrerequisTitleColor}{\PrerequisTitleFont 
Partie \ref{chDetails}: Détails Typographiques  \dotfill\ page \pageref{chDetails}}

Vous trouverez dans cette partie, les commandes spéciales utilisées dans le manuel \Logosesa{} 2\up{de} pour homogénéiser certaines présentations. 

\textcolor{PrerequisTitleColor}{\PrerequisTitleFont 
Partie \ref{chTIKZ}: Figures TIKZ  \dotfill\ page \pageref{chTIKZ}}


Vous trouverez dans cette partie, les commandes spéciales utilisées dans le manuel \Logosesa{} 2\up{de} pour homogénéiser les figures.
\end{commentaire}

\colorlet{ChapterNumColor}{white}
\setcounter{chapter}{0}
\chapter{Introduction}\label{chIntro}
\begin{prerequis}[Constructions offertes par la classe]Dans ce premier chapitre, nous allons présenter quelques généralités
  sur la classe \class{sesamanuel} :
\begin{itemize}
\item   sa raison d'être,
\item son installation
  et 
  \item quelques détails techniques.
\end{itemize}
  Les problèmes d'installations sont maintenant souvent résolus
  grâce à des procédures d'installation automatisées (\TeX Live ou
  Mik\TeX)(section~\ref{sec-installation}). 
  \vfill \columnbreak
  En revanche la
  section~\ref{sec-mode-de-compilation} est réellement importante
  à lire puisque la compilation actuellement la plus fréquemment
  utilisée (à savoir celle par \pgm{pdflatex}) ne fonctionnera pas
  avec cette classe.
\end{prerequis}

\begin{autoeval}
  \begin{multicols}{2}
    \begin{exercice}
      Pourquoi ne faut-il pas passer ce chapitre sans en lire le
      contenu ?
    \end{exercice}
    \begin{corrige}
      S'il ne doit y avoir qu'une seule section à lire dans le premier
      chapitre, c'est celle traitant du mode de compilation
      (section\ref{sec-mode-de-compilation}).
    \end{corrige}
    \begin{exercice}
      Comment utiliser cette classe pour composer un seul exercice ?
    \end{exercice}
    \begin{corrige}
      L'utilisation de la classe pour composer un seul élément ou
      quelques éléments isolés est décrite dans le
      chapitre~\ref{chap-classe-pour-quelques-feuilles}.
    \end{corrige}
    \begin{exercice}
      Je n'aime pas la façon avec laquelle la classe compose un
      ouvrage. Comment faire ?
    \end{exercice}
    \begin{corrige}
      La classe a été pensée pour être hautement configurable. S'il y a
      des aspects fondamentaux qui ne vous conviennent pas, c'est
      peut-être que cette classe ne vous convient pas !
    \end{corrige}
    \begin{exercice}
      Pour adapter la classe a mes demandes, puis-je modifier le code
      source ?
    \end{exercice}
    \begin{corrige}
      La classe et l'extension sont des projets libres. On peut donc
      modifier ce qu'on veut. Pour éviter toute erreur de manipulation,
      il est cependant plus prudent de modifier aussi le nom de la
      classe. N'oubliez pas de modifier la ligne
      \texttt{\textbackslash ProvidesClass\{sesamanuel\}} de la classe ou
      la ligne \texttt{\textbackslash ProvidesPackage\{sesamanuel\}} de
      l'extension.
    \end{corrige}
  \end{multicols}
\end{autoeval}

\cours
\section{Présentation}
\label{sec-presentation}
\newcommand{\StringDOCUMENTATION}{Historique}
\DeclareDefLike{documentation}{\StringDOCUMENTATION}
\begin{documentation}La classe \class{sesamanuel} a été une commande de l'association
française \Logosesa{}.\\ Cette classe a servi à éditer le manuel 
\Logosesa{} 2\up{de}. \\L'association \Logosesa{} a souhaité que la
classe utilisée pour produire ce document soit mise à la disposition de
tous \emph{via} son site \texttt{http://www.sesamath.net/} et en le
déposant sur CTAN sous licence libre.
\end{documentation}


\renewcommand{\StringDOCUMENTATION}{Principe}
\begin{documentation}
Pour que la classe soit utilisable facilement par tout un chacun, même
s'il s'agit d'une classe conçue pour fabriquer un ouvrage par des
professionnels, il a été décidé, dès le départ, que toute la chaîne de
production \TeX{} n'utiliserait que des produits courants. \\En particulier,
la maquette ne fait appel à aucune fonte non présente par défaut dans
toute distribution \TeX{} ni a aucune extension qui ne se trouve pas
sur CTAN et sur les distributions classiques. Le
tableau~\ref{tab-extensions} donne la liste des extensions et fontes
utilisées par la classe.

En réalité, {\bfseries la classe a un double but}: 
\begin{itemize}
 \item 
composer un ouvrage en
respectant une maquette bien précise d'un éditeur; 
\item permettre à
n'importe qui de mettre en page tout ou partie de cet ouvrage.
\end{itemize} L'idée
est que des enseignants de mathématiques puissent reprendre une partie
du code source des ouvrages, de pouvoir les modifier éventuellement et
de produire des feuilles séparées ou bien des documents à projeter en
classe.

Donc, la classe assure de pouvoir composer un manuel en respectant un
cahier des charges précis et de pouvoir également se soustraire à
certaines exigences de ce cahier des charges en gardant une syntaxe
commune pour les fichiers sources. \\Plus précisément, l'idée est de
construire un ouvrage papier dont le source est éclaté en autant de
fichiers sources qu'il y a d'éléments dans cet ouvrage (cours,
exercice, TP, corrigés, etc.) et de pouvoir reconstruire un document
en gardant les éléments que l'on souhaite (un seul
exercice, un choix d'exercices, une partie cours, des activités, un
thème complet\ldots).

Ces deux exigences font que la classe peut être comprise comme ayant
deux modes de fonctionnement différents et c'est comme cela que les
fonctionnalités seront présentées.

\end{documentation}
\begin{table}
  \centering
  \caption{Liste des extensions utilisées par la classe}
  \label{tab-extensions}
  \begin{tableau}[l]{0.8\linewidth}{2}
    \hline
    Extension & Version et date
    \\\hline
    classe \class{book} & v1.4h 2007/10/19 \\
    \package{etex}      & v2.0  1998/03/26 \\
    \package{fontenc}   & v1.99g 2005/09/27 \\
    \package{inputenc}  & v1.1d 2008/03/30 \\
    \package{fontspec} & \\
    \package{xunicode} & \\
    \package{helvet}    & v9.2a 2005/04/12 \\
    \package{mathpazo}  & v9.2a 2005/04/12 \\
    \package{mathrsfs}  & v1.0  1996/01/01  \\
    \package{pifont}    & v9.2a 2005/04/12 \\
    \package{eurosym}   & v1.1  1998/08/06 \\
    \package{geometry}  & v5.6  2010/09/12 \\
    \package{ifpdf}     & v2.3  2011/01/30 \\
    \package{crop}      & v1.9  2003/05/20 \\
    \package{ifmtarg}   & v1.2a 2009/09/02 \\
    \package{mathtools} & v1.13 2013/02/12 \\
    \package{amssymb}   & v3.01 2013/01/14 \\
    \package{longtable} & v4.11 2004/02/01 \\
    \package{tabularx}  & v2.07 1999/01/07 \\
    \package{multirow}  & V1.6  2004/05/05 \\
    \package{xcolor}    & v2.11 2007/01/21 \\
    \package{pst-all}   & voir note        \\
    \package{pstricks-add} & voir note     \\
    \package{fancyhdr}  & v3.2  2005/03/22 \\
    \package{fancyvrb}  & v2.7a 2008/02/07 \\
    \package{multicol}  & v1.7a 2011/06/27 \\
    \package{babel}     & v3.9h 2013/12/03 \\
    \package{numprint}  & v1.39 2012/08/20 \\
    \hline
  \end{tableau}

 % \raggedright
  
  \DeclareRemLike{note}{Note}
  \begin{note}
  la bibliothèque d'extensions PSTricks contient une vingtaine
  d'extensions dont les plus récentes datent de février~2014. La
  classe \class{sesamanuel} n'utilise cependant aucune fonctionnalité de
  PSTricks définie après 2009.
  \end{note}

\end{table}

\clearpage
\section{Installation}
\label{sec-installation}
\renewcommand{\StringDOCUMENTATION}{Si vous avez une version récente}
\begin{documentation}[
\TeX Live~2013 (à jour), de Mik\TeX{} ou Mac\TeX{}]La classe se trouvant sur CTAN, la
classe est déjà installée et vous n'avez rien à faire.
\end{documentation}
\renewcommand{\StringDOCUMENTATION}{Si vous avez une version ancienne}
\begin{documentation}
[distribution \TeX{} avant 2013]
Il faudra
installer la classe \og à la main \fg{}. C'est très simple, pour que
cela fonctionne, il n'y a besoin que du seul fichier
\file{sesamanuel.cls}. Il faut également que la compilation retrouve ce
fichier sur votre disque dur.
\begin{itemize}
 \item 

Il y a une première solution peu élégante qui consiste à placer ce
fichier dans le même répertoire que le document maître. \\C'est peu
élégant car il faudra dupliquer ce fichier dans autant d'endroits
qu'il y aura de répertoires de travail\ldots{} et lorsque la version
de la classe changera (par exemple pour corriger un bug), il faudra
alors répercuter ce changement dans tous ces répertoires.

\item Une deuxième solution plus élégante consiste à placer le fichier dans
l'arborescence principale de \TeX{}. La racine de celle-ci dépend du
système d'exploitation et de la distribution \TeX{} utilisée. 
\begin{itemize}
 \item 
Sous
MikTeX ou \TeX Live sous Windows, la racine peut être
\file{C:\texmf\}. 
\item Sous \TeX Live sous Linux, la racine peut être
\file{/usr/share/texlive/texmf-dist/} pour une distribution installée
par le système ou bien 

\file{/usr/local/texlive/<année>/texmf-dist}
pour une distribution installée \emph{via} l'installateur \TeX
Live. 
\item Sous Mac\TeX{}, la racine se trouve normalement en

\file{/usr/local/texlive/<année>/texmf-dist}.
\end{itemize}
\end{itemize}

\end{documentation}

\section{Mode de compilation}
\label{sec-mode-de-compilation}
Les documents produits avec la classe ne demandent pas d'outils
externes pour être construits. En particulier, le lexique ne demande
pas de passage par \pgm{makeindex} ou bien \pgm{texindy} ou
\pgm{xindy} pour que ses entrées soient classées.

\begin{remarque}
La classe utilise intensément PSTricks pour tout ce qui est
graphique. Cela implique qu'une compilation avec \pgm{pdflatex} ne
fonctionnera pas. Il y a deux solutions :
\begin{itemize}
\item une compilation avec la chaîne \pgm{latex} $\to$ \pgm{dvips}
  $\to$ \pgm{ps2pdf} ou bien des programmes équivalents transformant
  le dvi en ps (ou pdf) ;
\item une compilation avec \pgm{xelatex}
\end{itemize}
La classe détecte automatiquement le mode de compilation et adapte ses
appels d'extension au moteur utilisé.
\end{remarque}

\section{Option de compilation}
\label{sec-option-de-compilation}
Lorsqu'on compose un manuel avec la maquette sesamath, on dispose des
options de classes suivants:
\begingroup
\setlist{AE}
\begin{itemize}
\item Tous les codages d'entrées que connaît le package
  \package{inputenc}. L'option par défaut est \key{utf8}.
\item \key{crop} ou \key{nocrop} pour obtenir, ou non, les
  repères photographiques de coupe. L'option par défaut est
  \key{crop}.
\end{itemize}
\endgroup

\chapter{Classe\\ pour un ouvrage}\label{chClsPourOuvrage}

\begin{prerequis}[Les différentes parties d'un ouvrage]
  Les différentes parties d'un ouvrage vont être présentées en détail
  dans les pages qui suivent. Voici la liste de tous les types de
  parties qui vont composer chaque chapitre ainsi que les différents
  types d'annexes que l'on rencontre.
  \begin{itemize}
  \item Organisation générale
  \item Première page d'un chapitre
  \item Activités d'approche
  \item Cours-Méthodes
  \item Exercices d'entraînement
  \item Exercices d'approfondissement
  \item Récréation, énigmes
  \item Je teste mes connaissances
  \item Travaux pratiques
  \item Annexes générales
  \item Liste des méthodes
  \item Solutions
  \item Propriétés
  \item Lexique
  \end{itemize}
  Avant de voir toutes ces parties, on listera toutes les couleurs,
  les longueurs, les commandes de changement de fontes et les textes
  fixes utilisés par la maquette et définis par la classe.
\end{prerequis}

\begin{autoeval}
  \begin{multicols}{2}
    \begin{exercice}
      Serez-vous capable de lire ce manuel en entier en moins de
      deux heures ?
    \end{exercice}
    \begin{corrige}
      Soit vous disposez d'une capacité hors norme pour la vitesse de
      lecture, soit il ne faut pas trop se faire d'illusion et il est
      impossible d'assimiler l'ensemble des fonctionnalités en moins
      de deux heures.
    \end{corrige}
    \begin{exercice}
      Le source de ce manuel est normalement à votre disposition
      (fichier \file{sesamanuel-doc-fr.tex}).

      Repérez cette première page et changez l'encadré \og
      Auto-évaluation \fg{} en \og Exercices pour auteurs \fg{}.
    \end{exercice}
    \begin{corrige}
      D'après ce qui a été dit à la page qui suit cet exercice, il
      suffit de placer, avant l'appel à l'environnement
      \environ{autoeval} le code suivant :
\begin{verbatim}
\renewcommand*\StringAE{%
  Exercices pour auteurs
}
\end{verbatim}
    \end{corrige}
\vfill \columnbreak
    \begin{exercice}
      Pourquoi l'exercice précédent est-il un peu idiot (trop facile) si
      on le fait vraiment avec le source du manuel ? Essayez de
      répondre à cet exercice sans regarder ni la solution, ni le
      source du manuel !
    \end{exercice}
    \begin{corrige}
      Parce que si on a le source sous les yeux, on a également la
      solution de l'exercice sous les yeux !
    \end{corrige}
  \end{multicols}
\end{autoeval}

\cours
\section{Organisation générale}
\label{sec-organisation-generale}
\renewcommand{\StringDOCUMENTATION}{Principe}
\begin{documentation}
L'ouvrage suit une maquette. La suite des chapitres est répartie en
trois thèmes suivis d'annexes. Trois thèmes sont proposés: dans l'ordre, Statistiques et probabilités, Fonctions,
Géométrie. Ces thèmes sont introduits par les macros respectives:
  \begin{colenumerate}{3}
  \item \cmd{themaSP}
  \item \cmd{themaF}
  \item \cmd{themaG}
  \end{colenumerate}

Le fait d'être dans un thème va faire que certains éléments vont avoir
une couleur particulière. Les titres de chapitres seront accompagnés
d'une lettre correspondant au thème et la liste des méthodes sera
classée par thème.
\end{documentation}

\begin{methode*1}[Créer de nouveaux thèmes\label{newthema}]
La classe offre la possibilité de créer de nouveaux thèmes et de
changer toutes les couleurs liées au thème grâce à la commande
\cmd{NewThema}. Cette commande demande sept arguments obligatoires
qui vont être, dans l'ordre:
\begingroup
\setlist{AE}%
\begin{itemize}
\item lettre après \cmd{thema} (normalement en capitale);
\item lettre en minuscule;
\item titre du thème en minuscule;
\item titre du thème avec initiale en capitale;
\item titre du thème en capitale;
\item couleur du cadre pour le rectangle vertical de chapitre ainsi
  que celle du dernier carré en bas à gauche;
\item couleur de l'avant-dernier carré en bas à gauche du rectangle
  vertical de chapitre ainsi que celle du rectangle de pied de page;
\end{itemize}
\endgroup
\exercice
Pour cette documentation, on a créé un thème 
\og manuel \fg{} 
\correction
La commande est la suivante :
\begin{verbatim}
\NewThema{M}{m}{manuel}{Manuel}{MANUEL}{PartieFonction}{A3}
\end{verbatim}
Les deux syntaxes de couleurs \key{PartieFonction} et \key{A3} vont
être expliquée immédiatement après.
\end{methode*1}

\subsection{Couleurs}
\label{subsec-couleurs}
La classe offre la possibilité de modifier les couleurs. \\Il faut être
conscient que changer les couleurs (ou les autres éléments) fera qu'on
ne respectera plus la maquette.

La maquette définit un nuancier avec lequel seront définies toutes les
autres couleurs. La table~\ref{tab-nuancier} page suivante donne la
liste de toutes les couleurs de ce nuancier avec leur nom et leur
définition (CMYK sauf pour les teintes de gris).
Certaines couleurs de ce nuancier ne servent pas dans le résultat
final. La maquette a évolué mais comme cela ne posait aucun problème, le
nuancier initial a été gardé.  

À partir de ce nuancier, la classe va définir plus de 200 couleurs
employées dans l'ensemble d'un ouvrage. Le (grand)
tableau~\ref{tab-couleurs}
pages~\pageref{tab-debut-couleur}-\pageref{tab-couleurs} donne la
liste de ces couleurs avec leur nom, leur définition initiale et leur
signification. Pour mieux s'y retrouver, on a organisé ce tableau en
parties correspondant à celles de l'ouvrage.

\afterpage{%
  \centering
  \renewcommand*\tabularxcolumn[1]{>{\centering\arraybackslash}m{##1}}
  \psset{fillstyle=solid}
  \newcommand\C[2]{%
    \begin{pspicture}(0,0)(2,1.5)
      \psframe[fillcolor=##1](0,0.5)(2,1.5)
      \setbox0=\hbox{##1}%
      \ifdim\wd0>1.5cm
        \rput[B](1,0.25){\box0}
        \rput[B](1,-0.1){##2}
      \else
        \rput[B](1,0){\box0 : ##2}
      \fi
    \end{pspicture}%
  }
  \begin{tabularx}{\linewidth}{XXXX}
    \C{A1}{1.00, 0.00, 0.00, 0.50} &
    \C{A2}{0.60, 0.00, 0.00, 0.10} &
    \C{A3}{0.30, 0.00, 0.00, 0.05} &
    \C{A4}{0.10, 0.00, 0.00, 0.00} \\
    %
    \C{B1}{0.00, 1.00, 0.60, 0.40} &
    \C{B2}{0.00, 0.85, 0.60, 0.15} &
    \C{B3}{0.00, 0.20, 0.15, 0.05} &
    \C{B4}{0.00, 0.05, 0.05, 0.00} \\
    %
    \C{C1}{0.00, 1.00, 0.00, 0.50} &
    \C{C2}{0.00, 0.60, 0.00, 0.20} &
    \C{C3}{0.00, 0.30, 0.00, 0.05} &
    \C{C4}{0.00, 0.10, 0.00, 0.05} \\
    %
    \C{D1}{0.00, 0.00, 1.00, 0.50} &
    \C{D2}{0.20, 0.20, 0.80, 0.00} &
    \C{D3}{0.00, 0.00, 0.20, 0.10} &
    \C{D4}{0.00, 0.00, 0.20, 0.05} \\
    %
    \C{F1}{0.00, 0.80, 0.50, 0.00} &
    \C{F2}{0.00, 0.40, 0.30, 0.00} &
    \C{F3}{0.00, 0.15, 0.10, 0.00} &
    \C{F4}{0.00, 0.07, 0.05, 0.00} \\
    %
    \C{G1}{1.00, 0.00, 0.50, 0.00} &
    \C{G2}{0.50, 0.00, 0.20, 0.00} &
    \C{G3}{0.20, 0.00, 0.10, 0.00} &
    \C{G4}{0.10, 0.00, 0.05, 0.00} \\
    %
    \C{H1}{0.40, 0.00, 1.00, 0.10} &
    \C{H2}{0.20, 0.00, 0.50, 0.05} &
    \C{H3}{0.10, 0.00, 0.20, 0.00} &
    \C{H4}{0.07, 0.00, 0.15, 0.00} \\
    %
    \C{J1}{0.00, 0.50, 1.00, 0.00} &
    \C{J2}{0.00, 0.20, 0.50, 0.00} &
    \C{J3}{0.00, 0.10, 0.20, 0.00} &
    \C{J4}{0.00, 0.07, 0.15, 0.00} \\
    %
    \C{FondOuv}{0.00, 0.05, 0.10, 0.00} &
    \C{FondAutoEvaluation}{0.00, 0.03, 0.15, 0.00} &
    \C{FondTableaux}{0.00, 0.00, 0.20, 0.00 } &
    \C{FondAlgo}{0.07, 0.00, 0.30, 0.00} \\
    %
    \C{BleuOuv}{1.00/0.00/0.00/0.00} &
    \C{PartieFonction}{1.00/0.00/0.00/0.00} &
    \C{PartieGeometrie}{0.80/0.80/0.00/0.00} &
    \C{PartieStatistique}{0.95/0.60/0.20/0.00} \\
    %
    \C{U1}{0.50/0.10/0.00/0.10} &
    \C{U2}{0.20/0.15/0.00/0.00} &
     &
    \C{Blanc}{gray \upc{100}} \\
    %
    \C{Gris1}{gray \upc{80}} &
    \C{Gris2}{gray \upc{60}} &
    \C{Gris3}{gray \upc{40}} &
    \C{Noir}{gray \upc{0}}
  \end{tabularx}
  \captionof{table}{Nuancier de la classe}
  \label{tab-nuancier}
  \clearpage
}


\begingroup
\renewcommand*\colorlet[2]{%
  #1 & #2 &
}%
\newcommand*\titre[1]{\multicolumn{3}{c}{\textbf{#1}}}
\clearpage
\label{tab-debut-couleur}
\centering
\begin{longtable}{@{}llp{8cm}@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \caption{Couleurs utilisées dans l'ouvrage}
  \label{tab-couleurs}
  \endlastfoot
  \titre{Couleurs dans tout le document} \\\hline
  \colorlet{AlgoLineColor}{F3}
  Couleur des lignes du logo \cmd{algo} : \algo \\
  \colorlet{AlgoBkgColor}{F1}
  Couleur de fond du logo \cmd{algo} \\
  \colorlet{AlgoTextColor}{Blanc}
  Couleur du texte du logo \cmd{algo} \\
  \colorlet{TiceLineColor}{A3}
  Couleur des lignes du logo \cmd{tice} : \tice \\
  \colorlet{TiceBkgColor}{A1}
  Couleur du fond du logo \cmd{tice} \\
  \colorlet{TiceTextColor}{Blanc} 
  Couleur du texte du logo \cmd{tice} \\
  \colorlet{CadreLineColor}{D3} 
  Couleur par défaut des cadres avec coin biseauté \\
  \colorlet{CadreBkgColor}{Blanc}
  Couleur par défaut du fond des cadres avec coin biseauté \\
  \colorlet{AlgorithmeRuleColor}{D2}
  Couleur du bord du cadre d'un algorithme \\
  \colorlet{AlgorithmeBkgColor}{FondAlgo}
  Couleur du fond du cadre d'un algorithme \\
  \colorlet{CouleurAlgoAffiche}{Noir}
  Couleur du texte \textbf{Afficher la valeur} et \textbf{Afficher} de
  \cmd{AfficherVar} et de \cmd{Afficher} \\
  \colorlet{CouleurAlgoDemander}{Noir}
  Couleur du texte \textbf{Demander} de \cmd{Demander} \\
  \colorlet{CouleurAlgoSaisir}{Noir}
  Couleur du texte \textbf{Saisir} de \cmd{Saisir} \\
  \colorlet{CouleurAlgoStocker}{Noir}
  Couleur du texte \textbf{Stocker} de \cmd{Stocker} \\
  \colorlet{CouleurAlgoSi}{Noir}
  Couleur du texte \textbf{Si}, \textbf{Sinon}, \textbf{Alors} et
  \textbf{Fin Si} de \cmd{sialors} et \cmd{sialorssinon}\\
  \colorlet{CouleurAlgoTantque}{Noir}
  Couleur du texte \textbf{Tant que} et \textbf{Fin Tant que} de
  \cmd{tantque} \\
  \colorlet{CouleurAlgoPour}{Noir}
  Couleur du texte \textbf{Pour}, \textbf{variant de}, \textbf{à},
  \textbf{avec un pas de}, \textbf{faire} et \textbf{Fin Pour} de
  \cmd{pour} et \cmd{pourAvecPas} \\
  \colorlet{CouleurAlgoCalcule}{Noir}
  Couleur du texte \textbf{Calculer} de \cmd{Calculer} \\
  \colorlet{CouleurAlgoInitialiser}{Noir}
  Non utilisé \\
  \colorlet{CouleurAlgoIncrementer}{Noir}
  Non utilisé \\
  \colorlet{CouleurAlgoCommentaire}{Noir}
  Couleur du texte de commentaire de \cmd{DeclareVar}
  \\
  \colorlet{CouleurAlgoDonnerValeur}{Noir}
  Couleur du texte pour le texte de \cmd{DonnerValeur} \\
  \colorlet{CommentaireItemColor}{Noir}
  Couleur des items dans l'environnement \environ{commentaire} \\
  \colorlet{FiletTableauColor}{Gris3}
  Couleur des filets des tableaux \\
  \colorlet{FondSudokuColor}{FondTableaux}
  Couleur de fond pour les cases colorées des sudokus \\\hline
  \titre{Première page d'un chapitre} \\\hline
  \colorlet{ChapterTopFrameColor}{*}% 
  Couleur du rectangle supérieur horizontal (sur la largeur de page)
  dans l'en-tête de chapitre \\
  \colorlet{ChapterBottomFrameColor}{J4}
  Couleur du rectangle inférieur horizontal (sur la largeur de page)
  dans l'en-tête de chapitre \\
  \colorlet{ThemaTopFrameColor}{J1}
  Couleur du rectangle supérieur vertical (où il y a le titre du
  thème) dans l'en-tête de chapitre \\
  \colorlet{ThemaBottomFrameColor}{J2}
  Couleur du rectangle inférieur vertical (où il y a le titre du
  thème) dans l'en-tête de chapitre \\
  \colorlet{ThemaTitleColor}{Blanc}
  Couleur du titre du thème en haut du rectangle vertical \\
  \colorlet{ChapterNumBkgColor}{H2}
  Couleur de fond du rectangle au-dessous du numéro de chapitre \\
  \colorlet{ChapterNumSquare0Color}{Blanc}
  Couleur de texte dans les zones qui utilisent les petits carrés en
  dégradé \\
  \colorlet{ChapterNumSquare1Color}{H1}
  Couleur de dégradé des petits carrés (voir note **) \\
  \colorlet{ChapterNumSquare2Color}{H2}
  Couleur de dégradé des petits carrés (voir note **) \\
  \colorlet{ChapterNumSquare3Color}{H4}
  Couleur de dégradé des petits carrés (voir note **) \\
  \colorlet{ChapterNumSquare4Color}{*}%
  Couleur de dégradé des petits carrés (voir note **) \\
  \colorlet{ChapterNumSquare5Color}{*}%
  Couleur de dégradé des petits carrés (voir note **) \\
  \colorlet{FootTitleHeadColor}{*}%
  Couleur du titre de chapitre dans les pieds de page de tout le
  chapitre \\
  \colorlet{FirstChapterFootColor}{*}%
  Couleur du rectangle de pied de page pour la première page du
  chapitre \\
  \colorlet{ChapterTitleColor}{B1}
  Couleur du titre de chapitre en première page \\
  \colorlet{ChapAppColor}{Blanc}
  Non utilisé \\
  \colorlet{ChapterNumColor}{Blanc}
  Couleur du numéro de chapitre \\
  \colorlet{ChapterNumFrameColor}{*}%
  Couleur de fond du numéro de chapitre \\
  \colorlet{PrerequisTitleColor}{B2}
  Couleur du titre des prérequis \\
  \colorlet{PrerequisBkgColor}{A4}
  Couleur de fond du cadre des prérequis \\
  \colorlet{PrerequisItemColor}{B2}
  Couleur des étiquettes d'item des prérequis \\
  \colorlet{AEItemColor}{B2}
  Couleur des étiquettes d'item dans l'auto-évaluation \\
  \colorlet{AETitleFrame0Color}{Blanc}
  Couleur du titre de l'auto-évaluation (voir note **)\\
  \colorlet{AETitleFrame1Color}{B2}
  Couleur des cercles dégradés (voir note **) \\
  \colorlet{AETitleFrame2Color}{B3}
  Couleur des cercles dégradés (voir note **) \\
  \colorlet{AETitleFrame3Color}{A4}
  Couleur des cercles dégradés (voir note **) \\
  \colorlet{AETitleFrame4Color}{A3}
  Couleur des cercles dégradés (voir note **) \\
  \colorlet{AETitleFrame5Color}{A2}
  Couleur des cercles dégradés (voir note **) \\
  \colorlet{AETitleColor}{Blanc}
  Couleur du titre de l'auto-évaluation \\
  \colorlet{AEExoNumColor}{Blanc}
  Couleur du numéro des exercices dans l'auto-évaluation \\
  \colorlet{AEExoNumFrameColor}{A2}
  Couleur du cadre des numéros des exercices dans l'auto-évaluation \\
  \colorlet{AEFrameColor}{FondAutoEvaluation}
  Couleur du cadre général des exercices de l'auto-évaluation \\
  \colorlet{AECartoucheCorrBkgColor}{J2}
  Couleur de fond du cartouche de référence à la page de correction \\
  \colorlet{AECartoucheCorrArrowColor}{G2}
  Couleur des flèches dans le cartouche de référence aux corrections \\
  \colorlet{AECartoucheCorrVCPColor}{B2}
  Couleur du texte \cmd{StringVoirCorriges} \\\hline
  \titre{Activités d'approche} \\\hline
  \colorlet{ActiviteHeadFrame0Color}{Blanc}
  Couleur du titre \cmd{StringActivitesApproche} (voir note **) \\
  \colorlet{ActiviteHeadFrame1Color}{C1}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{ActiviteHeadFrame2Color}{C2}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{ActiviteHeadFrame3Color}{C3}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{ActiviteHeadFrame4Color}{D3}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{ActiviteHeadFrame5Color}{G1}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{ActiviteFootColor}{D2}
  Couleur du rectangle de pied de page \\
  \colorlet{FootChapterNumColor}{U1}
  Non utilisé \\
  \colorlet{ActiviteSubtitleColor}{H1}
  Couleur du titre de l'activité en cours \\
  \colorlet{ActiviteNumColor}{Blanc}
  Numéro de l'activité \\
  \colorlet{ActiviteDebatTopColor}{G4}
  Couleur dans la partie supérieure du losange des débats \\
  \colorlet{ActiviteDebatBottomColor}{D4}
  Couleur dans la partie inférieure du losange des débats \\
  \colorlet{ActiviteActiviteTopColor}{D3}
  Couleur dans la partie supérieure du losange des activités \\
  \colorlet{ActiviteActiviteBottomColor}{G2}
  Couleur dans la partie inférieure du losange des activités \\
  \colorlet{ActiviteTitleColor}{C1}
  Titre de l'activité débats (soit Activité soit Débat) \\
  \colorlet{ActiviteItemColor}{C1}
  Couleur des étiquettes des item dans les activités et débats \\
  \colorlet{ActivitePartieColor}{A2}
  Couleur du texte des parties dans les activités débats
  \\\hline
  \titre{Cours-Méthodes} \\\hline
  \colorlet{CoursHeadFrame0Color}{Blanc}
  Couleur du texte de l'en-tête (voir note **) \\
  \colorlet{CoursHeadFrame1Color}{J1}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{CoursHeadFrame2Color}{J2}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{CoursHeadFrame3Color}{J4}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{CoursHeadFrame4Color}{A3}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{CoursHeadFrame5Color}{A2}
  Couleur des carrés dégradés (voir note **) \\
  \colorlet{CoursFootColor}{A3}
  Couleur du rectangle de pied de page \\
  \colorlet{SectionFrame1Color}{J4}
  Couleur de fond du carré supérieur droit du numéro de section \\
  \colorlet{SectionFrame2Color}{J2}
  Couleur de fond du rectangle gauche et du rectangle inférieur du
  numéro de section \\
  \colorlet{SectionFrame3Color}{J1}
  Couleur de fond du carré inférieur gauche du numéro de section \\
  \colorlet{SectionNumColor}{A1}
  Couleur du numéro de section \\
  \colorlet{SectionTitleColor}{A1}
  Couleur du titre de section \\
  \colorlet{SubsectionNumColor}{B2}
  Couleur du numéro de sous-section \\
  \colorlet{SubsectionTitleColor}{J1}
  Couleur du titre de sous-section \\
  \colorlet{DefSquareColor}{B2}
  Couleur du carré initial des environnements de type définition \\
  \colorlet{DefTitleColor}{A1}
  Couleur du titre des environnements de type définition (c'est-à-dire
  \og DÉFINITION \fg{}, \og PROPRIÉTÉ \fg{}, etc) \\
  \colorlet{DefSubtitleColor}{B2}
  Couleur du sous-titre des environnements de type définition (donné
  par l'utilisateur) \\
  \colorlet{DefItemColor}{B2}
  Couleur des étiquettes des items dans les environnements de type
  définition \\
  \colorlet{DefFrameColor}{J3}
  Couleur de fond du cadre du contenu des environnements de type
  définition \\
  \colorlet{RemTitleColor}{H1}
  Couleur des titres des environnements de type remarque (Remarque(s),
  Notation(s), Vocabulaire) \\
  \colorlet{RemItemColor}{H1}
  Couleur des étiquettes des items dans les environnements de type
  remarque \\
  \colorlet{ExempleRuleColor}{J1}
  Couleur des filets dans les environnements de type exemple (exemple
  avec correction) \\
  \colorlet{ExempleEdgeFrameColor}{J2}
  Couleur des bords gauche et inférieur des cartouches exemple et
  correction \\
  \colorlet{ExempleBkgFrameColor}{F4}
  Couleur de fond des cartouches exemple et correction \\
  \colorlet{ExempleTitleColor}{A1}
  Couleur des titre exemple et correction \\
  \colorlet{ExempleItemColor}{J1}
  Couleur des étiquettes des items dans les environnements de type
  exemple \\
  \colorlet{MethodeTitleFrameColor}{A2}
  Couleur du fond pour le titre de la méthode et son numéro \\
  \colorlet{MethodeTitleColor}{Blanc}
  Couleur du titre de la méthode (MÉTHODE) et de son numéro \\
  \colorlet{MethodeSubtitleColor}{B2}
  Couleur du sous-titre de la méthode (donnée par l'utilisateur) \\
  \colorlet{MethodeIntroBkgFrameColor}{A4}
  Couleur du fond du texte introductif de la méthode \\
  \colorlet{ExAppEdgeFrameColor}{A2}
  Couleur du trait bas du cartouche Exercice d'application \\
  \colorlet{ExAppBkgFrameColor}{H1}
  Couleur de fond du cartouche Exercice d'application \\
  \colorlet{ExAppTitleColor}{Blanc}
  Couleur du titre Exercice d'application \\
  \colorlet{ExAppCorrEdgeFrameColor}{H1}
  Couleur du trait bas du cartouche Correction \\
  \colorlet{ExAppCorrBkgFrameColor}{A2}
  Couleur de fond du cartouche Correction \\
  \colorlet{ExAppCorrTitleColor}{Blanc}
  Couleur du titre Correction \\
  \colorlet{ExAppItemColor}{A2}
  Couleur des étiquettes pour les items dans les exercices
  d'application (et les correction) \\
  \colorlet{MethodeRuleColor}{A3}
  Couleur des filets verticaux (large ou étroit) dans les méthodes \\
  \colorlet{ProofRuleColor}{B1}
  Couleur du filet pour les preuves \\
  \colorlet{ProofTitleColor}{A1}
  Couleur du titre des preuves \\
  \colorlet{ProofTopFrameColor}{B4}
  Couleur de fond du cadre de titre des preuves \\
  \colorlet{ProofBottomFrameColor}{B3}
  Couleur du trait inférieur de titre des preuves \\
  \colorlet{ProofTriangleFrameColor}{B1}
  Couleur du triangle supérieur gauche du titre des preuves \\
  \colorlet{ProofItemColor}{J2}
  Couleur des étiquettes des items dans les preuves \\\hline
  \titre{Exercices d'entraînement} \\\hline
  \colorlet{ExoBaseHeadFrame0Color}{Blanc}
  Couleur du texte de l'en-tête (voir note **)\\
  \colorlet{ExoBaseHeadFrame1Color}{G1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoBaseHeadFrame2Color}{G2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoBaseHeadFrame3Color}{G4}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoBaseHeadFrame4Color}{J2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoBaseHeadFrame5Color}{J1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoBaseFootColor}{J2}
  Couleur du rectangle de pied de page\\
  \colorlet{ExerciceColumnRuleColor}{J1}
  Couleur du trait de séparation dans les exercices et les
  corrigés d'exercice en double colonne\\
  \colorlet{ExercicesTitleColor}{C1}
  Couleur du titre d'une série d'exercices\\
  \colorlet{ExercicesTitleVRuleColor}{G2}
  Couleur pour la barre verticale du titre d'une série d'exercices\\
  \colorlet{ExercicesTitleHRuleColor}{C3}
  Couleur pour la barre horizontale du titre d'une série d'exercices\\
  \colorlet{ExercicesTitleSquareColor}{J1}
  Couleur pour le carré d'intersection des deux barres\\
  \colorlet{ExerciceNumColor}{Blanc}
  Couleur du numéro d'exercice \\
  \colorlet{ExerciceTitleColor}{F1}
  Couleur du titre d'un exercice\\
  \colorlet{ExerciceNumFrameColor}{G1}
  Couleur du cadre du numéro d'un exercice non corrigé\\
  \colorlet{ExerciceCorrigeNumFrameColor}{J1}
  Couleur du cadre du numéro d'un exercice corrigé\\
  \colorlet{ExerciceItemColor}{G1}
  Couleur des puces\\
  \colorlet{ExercicePartieColor}{J1}
  Couleur des parties dans un exercice\\
  \colorlet{ExerciceRefMethodeColor}{A2}
  Couleur du cadre de référence à une méthode dans un exercice\\\hline
  \titre{Exercices d'approfondissement} \\\hline
  \colorlet{ExoApprHeadFrame0Color}{Blanc}
  Couleur du texte de l'en-tête (voir note **)\\
  \colorlet{ExoApprHeadFrame1Color}{G1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoApprHeadFrame2Color}{G2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoApprHeadFrame3Color}{G4}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoApprHeadFrame4Color}{J2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoApprHeadFrame5Color}{J1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ExoApprFootColor}{J2}
  Couleur du rectangle de pied de page\\\hline
  \titre{Je teste mes connaissances} \\\hline
  \colorlet{ConnHeadFrame0Color}{Blanc}
  Couleur du texte de l'en-tête (voir note **)\\
  \colorlet{ConnHeadFrame1Color}{A2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ConnHeadFrame2Color}{A3}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ConnHeadFrame3Color}{J2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ConnHeadFrame4Color}{J1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ConnHeadFrame5Color}{F1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{ConnFootColor}{J2}
  Couleur du rectangle de pied de page\\
  \colorlet{AcquisTitleColor}{G1}
  Couleur du titre \og À la fin du chapitre, je dois être capable de
  \fg\\
  \colorlet{AcquisBkgColor}{A4}
  Couleur de fond du titre\\
  \colorlet{AcquisItemColor}{F1}
  Couleur des puces dans le cadre des acquis\\
  \colorlet{QCMAEFrameColor}{G1}
  Couleur du cadre des QCM dans l'auto-évaluation\\
  \colorlet{QCMAETitleCircle1Color}{J1}
  Couleur des cercles concentriques dans le bandeau de l'auto-évaluation\\
  \colorlet{QCMAETitleCircle2Color}{J2}
  Couleur des cercles concentriques dans le bandeau de l'auto-évaluation\\
  \colorlet{QCMAETitleCircle3Color}{F1}
  Couleur des cercles concentriques dans le bandeau de l'auto-évaluation\\
  \colorlet{QCMAETitleColor}{Blanc}
  Couleur du titre du bandeau de l'auto-évaluation\\
  \colorlet{QCMItemNumColor}{G1}
  Couleur du numéro encerclé des QCM\\
  \colorlet{QCMFrameColor}{J1}
  Couleur du cadre pour la référence à un QCM\\
  \colorlet{QCMTextFrameColor}{Blanc}
  Couleur du texte pour la référence à un QCM\\
  \colorlet{QCMExoNumColor}{Blanc}
  Couleur pour le numéro de QCM\\
  \colorlet{QCMExoNumFrameColor}{J1}
  Couleur pour le cadre du numéro de QCM\\
  \colorlet{QCMLineColor}{A4}
  Couleur pour les lignes encadrant les QCM\\\hline
  \titre{Travaux pratiques, récréation, énigmes} \\\hline
  \colorlet{TPHeadFrame0Color}{Blanc}
  Couleur du texte de l'en-tête (voir note **)\\
  \colorlet{TPHeadFrame1Color}{H1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{TPHeadFrame2Color}{H2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{TPHeadFrame3Color}{H3}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{TPHeadFrame4Color}{C3}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{TPHeadFrame5Color}{C2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{TPFootColor}{C3}
  Couleur du rectangle de pied de page\\
  \colorlet{TPTopColor}{J3}
  Couleur de la partie supérieure du cadre du numéro de TP\\
  \colorlet{TPBottomColor}{C3}
  Couleur de la partie inférieure du cadre du numéro de TP\\
  \colorlet{TPTitleColor}{H1}
  Couleur du titre du TP\\
  \colorlet{TPPartieColor}{J1}
  Couleur des titres de parties dans les TP\\
  \colorlet{TPPartieBkgColor}{C2}
  Couleur du cadre de numéro de partie dans les TP\\
  \colorlet{TPPartieNumColor}{Blanc}
  Couleur du numéro de partie dans les TP\\
  \colorlet{RecreationHeadFrame0Color}{Blanc}
  Couleur du texte de l'en-tête (voir note **)\\
  \colorlet{RecreationHeadFrame1Color}{J1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{RecreationHeadFrame2Color}{J2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{RecreationHeadFrame3Color}{H4}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{RecreationHeadFrame4Color}{H2}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{RecreationHeadFrame5Color}{H1}
  Couleur des carrés dégradés (voir note **)\\
  \colorlet{RecreationFootColor}{H2}
  Couleur du rectangle de pied de page\\
  \colorlet{RecreationTitleColor}{H1}
  Couleur de titre pour récréation, énigmes\\
  \colorlet{RecreationItemColor}{H1}
  Couleur des puces dans les récréations\\
  \colorlet{RecreationPartieColor}{J1}
  Couleur des parties dans les récréation\\\hline
  \titre{Annexes générales} \\\hline
  \colorlet{AnnexePartieColor}{A1}
  Couleur des parties dans les annexes\\\hline
  \titre{Liste des méthodes} \\\hline
  \colorlet{ListeMethodeHeadFrameColor}{G3}
  Couleur des barres de marge dans la liste des méthodes\\
  \colorlet{ListeMethodeColumnRuleColor}{A1}
  Couleur du séparateur de colonnes dans la liste des méthodes\\
  \colorlet{ListeMethodeTitleColor}{B2}
  Couleur des titres des méthodes dans la liste des méthodes\\\hline
  \titre{Solutions des exercices} \\\hline
  \colorlet{CorrigeHeadFrameColor}{J2}
  Couleur des barres de marge dans la correction des exercices\\
  \colorlet{CorrigeColumnRuleColor}{J1}
  Couleur du séparateur de colonnes dans la correction des exercices\\
  \colorlet{CorrigeAETitleColor}{F1}
  Couleur du titre \og Auto-évaluation \fg{} dans la correction des exercices\\
  \colorlet{CorrigeExercicesBaseTitleColor}{C2}
  Couleur du titre \og S'entraîner \fg{} dans la correction des exercices\\
  \colorlet{CorrigeExercicesApprTitleColor}{C2}
  Couleur du titre \og Approfondir \fg{} dans la correction des exercices\\
  \colorlet{CorrigeConnaissancesTitleColor}{G1}
  Couleur du titre \og Je teste mes connaissances \fg{} dans la correction des exercices\\
  \colorlet{CorrigeQCMItemNumColor}{G1}
  Couleur des numéros d'items vrais dans les correction de QCM\\\hline
  \titre{Liste des propriétés} \\\hline
  \colorlet{TablePropertyBkgColor}{J4}
  Couleur de fond pour la colonne du milieu dans la liste des propriétés\\
  \colorlet{TablePropertyTitleBkgColor}{PartieStatistique}
  Couleur de fond des titres dans la liste des propriétés\\
  \colorlet{TablePropertyTitleTextColor}{Blanc}
  Couleur des titres dans la liste des propriétés\\\hline
  \titre{Lexique} \\\hline
  \colorlet{LexiqueHeadFrameColor}{F2}
  Couleur des barres de marges dans le lexique\\
  \colorlet{LexiqueColumnRuleColor}{B2}
  Couleur du séparateur de colonnes dans le lexique\\
  \colorlet{FirstLetterTxtColor}{B1}
  Couleur de la lettre de début de groupe dans le lexique\\
  \colorlet{FirstLetterBkgColor}{J3}
  Couleur de fond de la lettre de début de groupe dans le lexique\\
  \colorlet{LexiqueEntreeColor}{B2}
  Couleur des entrées du lexique\\
  \colorlet{LexiqueItemColor}{B2}
  Couleur des puces dans le lexique
\end{longtable}
\endgroup

* Les couleurs définies avec * sont en fait des couleurs qui sont
modifiées à chaque fois qu'on change de thème.

** Les en-têtes de page de la partie principale sont des cadres tels
que :
\begin{center}
  \vspace{18pt}
  \makeatletter
  \smc@headeven{CoursHeadFrame}{Titre}
\end{center}
Ces cadres utilisent six couleurs :\\
\begin{tabularx}{\linewidth}{XXXXXX}
Couleur 0 &
Couleur 1 &
Couleur 2 &
Couleur 3 &
Couleur 4 &
Couleur 5 \\
\psframebox[fillcolor=CoursHeadFrame0Color]{~~~Titre~~~}&
\psframebox*[fillcolor=CoursHeadFrame1Color]{\phantom{Couleur}}&
\psframebox*[fillcolor=CoursHeadFrame2Color]{\phantom{Couleur}}&
\psframebox*[fillcolor=CoursHeadFrame3Color]{\phantom{Couleur}}&
\psframebox*[fillcolor=CoursHeadFrame4Color]{\phantom{Couleur}}&
\psframebox*[fillcolor=CoursHeadFrame5Color]{\phantom{Couleur}}  
\end{tabularx}

\subsection{Longueurs}
\label{subsec-longueurs}
Comme pour les couleurs, la classe offre la possibilité de modifier
les longueurs. Là encore, cela va modifier la maquette initiale. La
table~\ref{tab-longueurs} pages~\pageref{tab-debut-longueurs}
à~\pageref{tab-longueurs} liste la totalité des longueurs utilisées
par la classe.

Même s'il s'agit bien de longueurs, toutes ces données sont définies
en tant que macro. La seule exception est \cmd{ActiviteTitleTopHeight}
qui est réellement une longueur. Cela signifie que si toutes les
longueurs de la classe peuvent être modifiées à l'aide d'une commande
\cmd{renewcommand}, pour \cmd{ActiviteTitleTopHeight}, il faudra
utiliser la commande \cmd{setlength}.

\begingroup
\newcommand*\longueur[2]{%
  \cmd{#1} & \texttt{#2}
}%
\newcommand*\titre[1]{\multicolumn{2}{c}{\textbf{#1}}}
\label{tab-debut-longueurs}
\centering
\begin{longtable}{@{}ll@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \caption{Longueurs utilisées dans l'ouvrage}
  \label{tab-longueurs}
  \endlastfoot
  \titre{Longueurs dans tout le document} \\\hline
\longueur{SquareWidth}{3mm}\\
\longueur{ItemRuleWidth}{1.5mm}\\
\longueur{ItemRuleHeight}{1.5mm}\\
\longueur{ItemRuleDepth}{0mm}\\
\longueur{ListLabelWidth}{4mm}\\
\longueur{EnumerateLabelWidth}{5mm}\\
\longueur{ListHSep}{2mm}\\
\longueur{AlgorithmeRuleWidth}{1pt}\\
\longueur{AlgorithmeSep}{2mm}\\
\longueur{AlgorithmeNumWidth}{6mm}\\
\longueur{HeadFrameWidth}{11cm}\\
\longueur{RoundHeadFrameWidth}{12.8cm}\\
\longueur{HeadTitleSep}{1cm}\\
\longueur{HeadTitleMaxWidth}{\cmd{HeadFrameWidth}-\cmd{SquareWidth}*3-\cmd{HeadTitleSep}}\\
\longueur{RoundHeadTitleMaxWidth}{\cmd{RoundHeadFrameWidth}-\cmd{SquareWidth}*3-\cmd{HeadTitleSep}}\\
\longueur{HeadFrameHeight}{\cmd{smc@margintop}-\cmd{smc@headsep}}\\
\longueur{HeadFrameDepth}{3mm}\\
\longueur{FootFrameWidth}{6mm}\\
\longueur{FootFrameSep}{1mm}\\
\longueur{AlgoIndent}{1em}\\\hline
\titre{Longueurs pour les différents cadres}\\\hline
\longueur{CadreSep}{2mm}\\
\longueur{CadreLineWidth}{0.5mm}\\
\longueur{FrameSep}{3mm}\\
\longueur{FrameLineWidth}{1pt}\\
\longueur{FrameArc}{\cmd{SquareWidth}/2}\\
\longueur{RuleWidth}{1pt}\\
\longueur{BeforeCadreVSpace}{1.5mm}\\
\longueur{AfterCadreVSpace}{1.5mm}\\
\longueur{BeforeTableVSpace}{1.5mm}\\
\longueur{AfterTableVSpace}{1.5mm}\\
\longueur{HabillageGap}{2mm}\\
\longueur{LogoLineWidth}{1pt}\\
\longueur{BeforeAlgorithmeVSpace}{1.5mm}\\
\longueur{AfterAlgorithmeVSpace}{1.5mm}\\\hline
\titre{Longueurs pour la page de titre}\\\hline
\longueur{ChapterTopFrameHeight}{2.1cm+\cmd{smc@bleed}}\\
\longueur{ChapterBottomFrameHeight}{6cm}\\
\longueur{ChapterTotalFrameHeight}{\cmd{ChapterTopFrameHeight}+\cmd{ChapterBottomFrameHeight}}\\
\longueur{ChapterBottomPicture}{5.5cm}\\
\longueur{ChapterNumLeftFrame}{13.4cm}\\
\longueur{ChapterTitleThemaWidth}{\cmd{linewidth}-\cmd{ChapterNumLeftFrame}-6mm}\\
\longueur{ChapterNumBase}{3.6cm}\\
\longueur{ChapterNumBottomFrame}{2.1cm}\\
\longueur{ChapterNumTopFrame}{8.1cm+\cmd{smc@bleed}}\\
\longueur{ChapterTitleBase}{2.1cm}\\
\longueur{ChapterTitleSep}{1cm}\\
\longueur{ThemaBottomFrame}{5.7cm}\\
\longueur{ThemaTopFrame}{6.6cm}\\
\longueur{PrerequisTitleVSpace}{1mm}\\
\longueur{AETitleWidth}{8cm}\\
\longueur{AETitleHeight}{\cmd{SquareWidth}*3}\\
\longueur{AEFrameVSep}{4mm}\\
\longueur{AEFrameHSep}{\cmd{SquareWidth}}\\
\longueur{AEFrameRuleWidth}{\cmd{SquareWidth}/2}\\
\longueur{AEExoFrameWidth}{\cmd{SquareWidth}*2}\\
\longueur{AEExoFrameTopSep}{1mm}\\
\longueur{AfterAEExoFrameHSpace}{2mm}\\
\longueur{AECartoucheCorrSep}{4mm}\\
\longueur{AECartoucheCorrHeight}{6mm}\\
\longueur{AECartoucheCorrWidth}{50mm}\\
\longueur{AEManuelWidth}{55mm}\\
\longueur{AEManuelRightSpace}{1mm}\\
\longueur{AELogoManuelWidth}{9mm}\\
\longueur{AfterAEManuelVSpace}{3mm}\\\hline
\titre{Longueurs pour la partie Activités d'approche}\\\hline
\longueur{BeforeActiviteVSpace}{5mm}\\
\longueur{ActiviteTitleTopHeight}{6mm}\\
\longueur{ActiviteTitleBottomHeight}{1.5mm}\\
\longueur{ActiviteTitleLeftSpace}{2mm}\\
\longueur{ActiviteTitleRightSpace}{1mm}\\
\longueur{AfterActiviteTitleHSpace}{2mm}\\
\longueur{AfterActiviteTitleVSpace}{3mm}\\
\longueur{BeforeActivitePartieVSpace}{1.5mm}\\
\longueur{AfterActivitePartieVSpace}{1mm}\\\hline
\titre{Longueurs pour la partie Cours - Méthodes}\\\hline
\longueur{BeforeSectionVSpace}{10mm}\\
\longueur{AfterSectionVSpace}{2mm}\\
\longueur{SectionNumTitleHSpace}{3mm}\\
\longueur{SectionCorrectionChassePoint}{-0.25pt}\\
\longueur{BeforeSubsectionVSpace}{4mm}\\
\longueur{AfterSubsectionVSpace}{1mm}\\
\longueur{BeforeDefVSpace}{3mm}\\
\longueur{AfterDefVSpace}{1.5mm}\\
\longueur{longueurFrameHSep}{3mm}\\
\longueur{longueurFrameVSep}{1mm}\\
\longueur{longueurTitleFrameVSep}{1mm}\\
\longueur{BeforeRemVSpace}{3mm}\\
\longueur{AfterRemVSpace}{1.5mm}\\
\longueur{BeforeExempleVSpace}{4mm}\\
\longueur{ExempleVRuleWidthFrame}{1.25mm}\\
\longueur{ExempleHRuleWidthFrame}{0.75mm}\\
\longueur{ExempleWidthFrame}{15mm}\\
\longueur{ExempleHeightFrame}{3mm}\\
\longueur{BeforeMethodeVSpace}{3mm}\\
\longueur{MethodeTitleLeftSpace}{\cmd{SquareWidth}}\\
\longueur{MethodeTitleRightSpace}{\cmd{SquareWidth}}\\
\longueur{MethodeSubtitleLeftSpace}{2mm}\\
\longueur{AfterMethodeTitleVspace}{1.5mm}\\
\longueur{MethodeFrameHSep}{3mm}\\
\longueur{MethodeFrameTopSep}{2mm}\\
\longueur{MethodeFrameBottomSep}{1mm}\\
\longueur{ExAppWidthFrame}{30mm}\\
\longueur{ExAppHeightFrame}{3mm}\\
\longueur{ExAppDepthFrame}{0.75mm}\\
\longueur{ExAppCorrWidthFrame}{15mm}\\
\longueur{ExAppCorrHeightFrame}{3mm}\\
\longueur{ExAppCorrDepthFrame}{0.75mm}\\
\longueur{AfterCartoucheHSpace}{1.5mm}\\
\longueur{AfterExAppMethodeVSpace}{3mm}\\
\longueur{BeforeProofVSpace}{3mm}\\
\longueur{AfterProofVSpace}{1.5mm}\\
\longueur{ProofHeightFrame}{3mm}\\
\longueur{ProofDepthFrame}{0.75mm}\\
\longueur{ProofLeftSpace}{1mm}\\
\longueur{ProofRightSpace}{1.5mm}\\
\longueur{AfterProofTitleHSpace}{1.5mm}\\\hline
\titre{Longueurs pour les parties Exercices de base et Exercices
d'approfondissement}\\\hline
\longueur{BeforeExercicesTitleVSpace}{3mm}\\
\longueur{AfterExercicesTitleVSpace}{1.5mm}\\
\longueur{ExercicesTitleHSep}{3mm}\\
\longueur{ExercicesTitleVSep}{2mm}\\
\longueur{BeforeExerciceVSpace}{1.5mm}\\
\longueur{ExerciceNumFrameWidth}{6mm}\\
\longueur{ExerciceNumFrameHeight}{3.25mm}\\
\longueur{ExerciceNumFrameDepth}{0.75mm}\\
\longueur{ExerciceTextHSep}{2mm}\\
\longueur{BeforeExercicePartieVSpace}{1.5mm}\\
\longueur{AfterExercicePartieVSpace}{1mm}\\\hline
\titre{Longueurs pour la partie Je teste mes connaissances}\\\hline
\longueur{AcquisTitleVSpace}{1mm}\\
\longueur{BeforeQCMAEVSpace}{6mm plus2mm minus2mm}\\
\longueur{QCMAETitleHeight}{9mm}\\
\longueur{QCMAETitleWidth}{110mm}\\
\longueur{QCMAETitleLeftSpace}{17mm}\\
\longueur{QCMAEManuelWidth}{40mm}\\
\longueur{QCMAEManuelRightSpace}{1mm}\\
\longueur{QCMAELogoManuelWidth}{9mm}\\
\longueur{AfterQCMAEManuelVSpace}{0mm}\\
\longueur{AfterQCMAETitleVSpace}{5mm plus2mm minus1mm}\\
\longueur{AfterQCMAETextVSpace}{3mm plus1mm minus1mm}\\
\longueur{QCMRefHSep}{1pt}\\
\longueur{QCMExoFrameWidth}{\cmd{SquareWidth}*2}\\
\longueur{QCMExoFrameTopSep}{1mm}\\
\longueur{AfterQCMExoFrameHSpace}{2mm}\\
\longueur{QCMLabelWidth}{6mm}\\
\longueur{BeforeQCMVSpace}{2mm plus1mm minus1mm}\\
\longueur{AfterQCMVSpace}{0mm plus1mm}\\
\longueur{QCMLineWidth}{2mm}\\
\longueur{QCMFrameSep}{1mm}\\
\longueur{QCMLineArc}{\cmd{SquareWidth}}\\\hline
\titre{Longueurs pour la partie TP}\\\hline
\longueur{BeforeTPPartieVSpace}{3mm plus1mm minus1mm}\\
\longueur{AfterTPPartieVSpace}{0mm plus1mm}\\
\longueur{TPPartieHSep}{2mm}\\
\longueur{BeforeRecreationVSpace}{6mm}\\
\longueur{AfterRecreationVSpace}{3mm}\\
\longueur{BeforeRecreationPartieVSpace}{1.5mm minus 1mm}\\
\longueur{AfterRecreationPartieVSpace}{1mm minus 0.5mm}\\\hline
\titre{Longueurs pour la liste des méthodes}\\\hline
\longueur{ListeMethodeRuleWidth}{0.2pt}\\
\longueur{AfterMethodeVSpace}{3pt}\\
\longueur{TriangleMethodeSize}{1ex}\\\hline
\titre{Longueurs pour la partie corrigés (annexe)}\\\hline
\longueur{CorrigeRuleWidth}{0.2pt}\\
\longueur{CorrigeHeadFrameWidth}{9mm}\\
\longueur{CorrigeChapterFrameHeight}{5mm}\\
\longueur{BeforeCorrigePartieTitleVSpace}{1mm minus 0.5mm}\\
\longueur{BeforeCorrigeChapterVspace}{3mm plus1mm minus1mm}\\
\longueur{QCMHSep}{1mm}\\\hline
\titre{Longueurs pour les annexes générales}\\\hline
\longueur{BeforeAnnexeTitleVSpace}{-20mm}\\
\longueur{AfterAnnexeTitleVSpace}{0mm plus0.5mm}\\
\longueur{AnnexeSectionRuleWidth}{\cmd{SquareWidth}}\\
\longueur{AnnexeSectionRuleHSpace}{1mm}\\
\longueur{BeforeAnnexeSectionVSpace}{5mm}\\
\longueur{AfterAnnexeSectionVSpace}{2mm}\\
\longueur{BeforeAnnexePartieVSpace}{1.5mm}\\
\longueur{AfterAnnexePartieVSpace}{1mm}\\\hline
\titre{Longueurs pour le lexique}\\\hline
\longueur{LexiqueRuleWidth}{0.2pt}\\
\longueur{AfterFirstLetterVSpace}{2mm}\\
\longueur{BeforeFirstLetterVSpace}{2mm}\\
\longueur{FirstLetterFrameHSep}{1mm}\\
\longueur{AfterEntreeVSpace}{5mm}
\end{longtable}
\endgroup

\subsection{Commandes de fontes}
\label{subsec-commandes-de-fontes}

La table~\ref{tab-fontes} pages \pageref{tab-debut-fontes}
à~\pageref{tab-fontes} montre l'ensemble des commandes de fontes
effectuées par la classe. Là encore, on peut modifier ce comportement
mais on ne respecte plus la maquette initiale.

Les couleurs ne sont pas intégrées dans les commandes de fontes.

\begingroup
\newcommand*\fonte[2]{%
  \cmd{#1} & \texttt{#2}
}%
\newcommand*\taille[2]{%
  \cmd{fontsize\{#1\}\{#2\}}%
}
\newcommand*\titre[1]{\multicolumn{2}{c}{\textbf{#1}}}
\label{tab-debut-fontes}
\centering
\begin{longtable}{@{}ll@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \caption{Fontes utilisées dans l'ouvrage}
  \label{tab-fontes}
  \endlastfoot
  \titre{Fontes dans tout le document}\\\hline
  \fonte{AlgoFont}{\taille{9.5}{9.5}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{TiceFont}{\taille{9.5}{9.5}\cmd{sffamily}\cmd{bfseries}}\\\hline
  \titre{Fontes de la page de titre}\\\hline
  \fonte{ThemaTitleFont}{\taille{20}{24}\cmd{sffamily}}\\
  \fonte{ChapterTitleFont}{\taille{40}{40}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ChapAppFont}{\taille{15}{18}\cmd{sffamily}}\\
  \fonte{ChapterNumFont}{\taille{88}{106}\cmd{sffamily}}\\
  \fonte{PrerequisTitleFont}{\taille{14.4}{17.28}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{PrerequisTextFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\
  \fonte{AETitleFont}{\taille{15}{18}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{AEExoNumFont}{\taille{9.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{AECartoucheCorrArrowFont}{\taille{12}{14.4}}\\
  \fonte{AECartoucheCorrVCPFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\
  \fonte{AEManuelFont}{\taille{9.5}{10.5}\cmd{sffamily}}\\
  \fonte{LogoManuelFont}{\taille{9.5}{10.5}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{LogoURLManuelFont}{\taille{9.5}{10.5}\cmd{sffamily}\cmd{bfseries}}\\\hline
  \titre{Fontes pour les en-têtes et pied de page}\\\hline
  \fonte{HeadTitleFont}{\taille{24}{28.8}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{RoundHeadTitleFont}{\taille{24}{28.8}\cmd{sffamily}\cmd{bfseries}\itshape}\\
  \fonte{FootChapterNumFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{FootTitleHeadFont}{\taille{9.5}{12}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{FootTitleChapterFont}{\taille{9.5}{12}\cmd{sffamily}}\\
  \fonte{FootPageFont}{\taille{9.5}{12}\cmd{sffamily}\cmd{bfseries}}\\\hline
  \titre{Fontes pour la partie Activités d'approche}\\\hline
  \fonte{ActiviteTitleFont}{\taille{15}{18}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ActiviteNumFont}{\taille{15}{18}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ActiviteSubtitleFont}{\taille{15}{18}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ActivitePartieFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\\hline
  \titre{Fontes pour la partie Cours - Méthodes}\\\hline
  \fonte{SectionNumFont}{\taille{21}{25}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{SectionTitleFont}{\taille{17.28}{21}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{SubsectionNumFont}{\taille{17.28}{21}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{SubsectionTitleFont}{\taille{14.4}{17.28}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{DefTitleFont}{\taille{12}{14.4}\cmd{sffamily}}\\
  \fonte{DefSubtitleFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{RemTitleFont}{\taille{9.5}{14.4}\cmd{scshape}\cmd{bfseries}}\\
  \fonte{ExempleTitleFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\
  \fonte{MethodeTitleFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{MethodeSubtitleFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{MethodeRefExerciceFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\
  \fonte{ExAppTitleFont}{\cmd{normalsize}\cmd{sffamily}}\\
  \fonte{ExAppCorrTitleFont}{\cmd{normalsize}\cmd{sffamily}}\\
  \fonte{ProofTitleFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\\hline
  \titre{Fontes pour les parties Exercices de base et Exercices d'approfondissement}\\\hline
  \fonte{ExercicesTitleFont}{\taille{14.4}{17.28}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ExerciceNumFont}{\taille{10.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ExerciceTitleFont}{\taille{10.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ExercicePartieFont}{\taille{10.5}{14.4}\cmd{bfseries}}\\
  \fonte{ExerciceRefMethodeFont}{\taille{9.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ExercicePageRefMethodeFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\\hline
  \titre{Fontes pour la partie Je teste mes connaissances}\\\hline
  \fonte{AcquisTitleFont}{\taille{17.28}{17.28}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{AcquisTextFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\
  \fonte{QCMAETitleFont}{\taille{20}{20}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{QCMAEManuelFont}{\taille{9.5}{10.5}\cmd{sffamily}}\\
  \fonte{QCMAETextAfterTitleFont}{\cmd{bfseries}}\\
  \fonte{QCMExoNumFont}{\taille{9.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{QCMItemNumFont}{\taille{9.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\\hline
  \titre{Fontes pour la partie TP}\\\hline
  \fonte{TPPartieFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{RecreationFont}{\taille{20}{20}\scriptfamily\cmd{bfseries}}\\
  \fonte{RecreationTitleFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{RecreationPartieFont}{\taille{10}{14.4}\scshape\cmd{bfseries}}\\
  \fonte{RecreationPartieTitleFont}{\taille{10}{14.4}\cmd{bfseries}}\\\hline
  \titre{Fontes pour la liste des méthodes}\\\hline
  \fonte{ListeMethodeChapterFont}{\taille{40}{40}\cmd{sffamily}}\\
  \fonte{ListeMethodeTitleFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ListeMethodePageFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\\hline
  \titre{Fontes pour la partie Corrigés (annexe)}\\\hline
  \fonte{CorrigeTitleFont}{\taille{40}{40}\cmd{sffamily}}\\
  \fonte{CorrigeChapterFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{CorrigePartieFont}{\taille{11}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{CorrigeNumExerciceFont}{\taille{9.5}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{CorrigeQCMItemNumFont}{\taille{9.5}{14.4}\cmd{sffamily}}\\\hline
  \titre{Fontes pour les annexes générales}\\\hline
  \fonte{FootAnnexeTxtFont}{\taille{11}{14.4}\cmd{sffamily}}\\
  \fonte{FootAnnexePageFont}{\taille{11}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{AnnexeTitleFont}{\taille{35}{35}\cmd{sffamily}}\\
  \fonte{AnnexeSectionTitleFont}{\taille{14.4}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{ProprieteFont}{\taille{10}{14.4}\cmd{sffamily}}\\
  \fonte{NumProprieteFont}{\taille{10}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{AnnexePartieFont}{\taille{10.5}{14.4}\cmd{bfseries}}\\\hline
  \titre{Fontes pour le lexique}\\\hline
  \fonte{LexiqueTitleFont}{\taille{50}{50}\cmd{sffamily}}\\
  \fonte{FirstLetterFont}{\taille{16}{16}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{LexiqueEntreeFont}{\taille{12}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{LexiqueFont}{\cmd{sffamily}\upshape\cmd{bfseries}}
\end{longtable}
\endgroup

\subsection{Textes fixes}
\label{subsec-textes-fixes}
La classe définit tous les textes fixes dans des macros. Cela rend
très facile la modification de ces textes mais, encore une fois, on
ne respecte alors plus la maquette initiale. La
table~\ref{tab-textes-fixes} indique la liste de tous ces textes
fixes.

\begingroup
\newcommand*\texte[2]{%
  \cmd{#1} & \texttt{#2}
}%
\renewcommand*\textcolor[2]{%
  \cmd{textcolor\{#1\}\{#2\}}%
}
\newcommand*\titre[1]{\multicolumn{2}{c}{\textbf{#1}}}
\label{tab-debut-textes-fixes}
\centering
\begin{longtable}{@{}lp{10cm}@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \caption{Textes fixes utilisées dans l'ouvrage}
  \label{tab-textes-fixes}
  \endlastfoot
  \texte{StringColitemize}{colitemize}\\
  \texte{StringColenumerate}{colenumerate}\\
  \texte{StringPrerequis}{Connaissances du coll\`ege
      n\'ecessaires \`a ce chapitre}\\
  \texte{StringActivitesApproche}{Activit\'es d'approche}\\
  \texte{StringCoursMethodes}{Cours~-~M\'ethodes}\\
  \texte{StringExercicesBase}{S'entra\^iner}\\
  \texte{StringExercicesAppr}{Approfondir}\\
  \texte{StringTestConnaissances}{Je teste mes connaissances}\\
  \texte{StringConnaissances}{Auto-\'evaluation QCM}\\
  \texte{StringTravauxPratiques}{Travaux pratiques}\\
  \texte{StringAE}{Auto-\'evaluation}\\
  \texte{StringVoirCorriges}{Voir solutions p.}\\
  \texte{StringManuel}{Des ressources num\'eriques pour pr\'eparer
    le chapitre sur
    \textcolor{U4}{\cmd{LogoURLManuelFont} manuel.sesamath.net}}\\
  \texte{StringALGO}{ALGO}\\
  \texte{StringTICE}{INFO}\\
  \texte{StringRecreation}{R\'ecr\'eation, \'enigmes}\\
  \texte{StringAcquisTitle}{\`A la fin de ce chapitre, je dois
    \^etre capable de\,:}\\
  \texte{StringQCMAE}{QCM d'auto-\'evaluation}\\
  \texte{StringQCM}{QCM}\\
  \texte{StringChapitre}{Chapitre}\\
  \texte{StringEnigme}{\'Enigme}\\
  \texte{StringPropriete}{Propri\'et\'e}\\
  \texte{StringPROPRIETE}{PROPRI\'ET\'E}\\
  \texte{StringDEFINITION}{D\'EFINITION}\\
  \texte{StringTHEOREME}{TH\'EOR\`EME}\\
  \texte{StringLexique}{Lexique}\\
  \texte{LogoManuel}{\textcolor{U4}{\cmd{LogoManuelFont} @}}\\
  \texte{StringDEBAT}{D\'EBAT}\\
  \texte{StringACTIVITE}{ACTIVIT\'E}\\
  \texte{StringTP}{TP}\\
  \texte{StringExemple}{Exemple}\\
  \texte{StringCorrection}{Correction}\\
  \texte{StringMETHODE}{M\'ETHODE}\\
  \texte{StringPREUVE}{PREUVE}\\
  \texte{StringMethode}{M\'ethode}\\
  \texte{StringExApp}{Exercice d'application}\\
  \texte{StringPartie}{Partie}\\
  \texte{StringListeMethode}{Liste des m\'ethodes}\\
  \texte{StringCorriges}{Solutions}\\
  \texte{StringListeMethodeF}{Fonctions}\\
  \texte{StringListeMethodeG}{G\'eom\'etrie}\\
  \texte{StringListeMethodeSP}{Stat. et probabilit\'es}
\end{longtable}
\endgroup
\begin{attention}
  Les macros \cmd{StringColitemize}, \cmd{StringColenumerate} et
  \cmd{StringQCM} ne doivent surtout pas être modifiées sous peine
  d'entraîner des erreurs de compilation.
\end{attention}

\section{Première page d'un chapitre}
\label{sec-premiere-page-d-un-chapitre}

La première page de chaque chapitre est dédiée à un rappel sur les
connaissances de collège (par défaut) nécessaire pour ce chapitre et
d'une série de petits exercices appelée \og Auto-évaluation \fg{}.

\begin{attention}
  La maquette est très stricte à ce niveau: il faut que ces deux
  éléments tiennent sur une page et la remplissent au mieux. La classe
  pose un ressort vertical infini au-dessus du cadre bleu avec son
  titre rouge et entre ce cadre bleu et la partie Auto-évaluation. Il
  revient à l'auteur de remplir cet espace au mieux. De façon
  générale, cette maquette interdit toute coupure de page au niveau
  des cadres et d'un grand nombre de structures.
\end{attention}
Le cadre bleu avec le titre en rouge est composé avec l'environnement
\environ{prerequis}. Il est destiné à indiquer quelles sont les
connaissances des années antérieures que l'élève est supposé
maîtriser. Comme la maquette traite de livres de seconde, le texte par
défaut est \og Connaissances du collège nécessaires à ce chapitre
\fg{}. On peut modifier ce titre de deux façons :
\DeclareProofLike{code}{Le code}
\DeclareProofLike{result}{donne le résultat:}
\begin{syntaxe}

  soit de façon locale avec un argument optionnel
  \begin{code}
\begin{verbatim}
\begin{prerequis}[Nouveau titre]
  ...
\end{prerequis}
\end{verbatim}
\end{code}
  soit de façon globale en modifiant la macro
  \cmd{StringPrerequis}.
  \begin{code}
\begin{verbatim}
\renewcommand*\StringPrerequis{Nouveau titre}
\end{verbatim}
\end{code}
\end{syntaxe}

Le titre est écrit en rouge au-dessus d'un cadre bleu et le contenu de
l'environnement sera composé en double colonne à l'intérieur du cadre
bleu. La maquette prévoit que la liste des connaissances soit exposée
avec un environnement \environ{itemize}.
\begin{remarque}
  L'environnement \environ{itemize} doit se situer à l'intérieur de
  l'environnement \environ{prerequis}. La classe interdit
  l'utilisation des listes \environ{itemize} ou \environ{enumerate} en
  dehors de certains endroits.

  De plus, les puces et les couleurs utilisées dépendront également
  de l'endroit où on utilise ces listes. Pour les couleurs, on se
  référera au tableau~\ref{tab-couleurs}. Pour l'aspect, on dresse la
  liste de toutes les listes possibles aux pages~\pageref{liste-debut-listes}-\pageref{liste-fin-listes}.
\end{remarque}

À la suite des prérequis, on trouve des exercices
d'auto-évaluation. Ceux-ci sont composés dans l'environnement
\environ{autoeval}. Chaque exercice est composé dans un environnement
\environ{exercice}. La correction sera indiquée immédiatement après
dans un environnement \environ{corrige}. Par exemple, les exercices de
la premières page de ce chapitre ont été composés de la façon suivante :
\begin{syntaxe}
\begin{verbatim}
\begin{autoeval}
  \begin{multicols}{2}
    \begin{exercice}
      Serez-vous capable de lire ce manuel en entier en moins de
      deux heures ?
    \end{exercice}
    \begin{corrige}
      Soit vous disposez d'une capacité hors-norme pour la vitesse de
      lecture, soit il ne faut pas trop se faire d'illusion et il est
      impossible d'assimiler l'ensemble des fonctionnalités en moins
      de deux heures.
    \end{corrige}
    ...
  \end{multicols}
\end{autoeval}
\end{verbatim}
  et on peut effectivement voir page~\pageref{toutes-solutions} le texte
  de la solution au premier exercice.

  Une présentation plus en détail des solutions des exercices sera
  donnée à la section~\ref{sec-solutions}
  page~\pageref{sec-solutions}.
\end{syntaxe}

\section{Activités d'approche}
\label{sec-activites-d-approche}
La partie Activités d'approche est censée être une succession de
débats et d'activités. Les débats sont définis par l'environnement
\environ{debat} et les activités par l'environnement
\environ{activite}.

La syntaxe est la même pour ces deux environnements, à savoir la
possibilité d'indiquer deux arguments optionnels. Le premier argument
indique le titre du débat ou de l'activité et le deuxième argument
optionnel indique la présence d'un logo à droite du titre. Si les
arguments optionnels ne sont pas spécifiés, l'élément correspondant
n'existera pas (pas de titre ou pas de logo).

La classe ne prévoit que deux logos\label{logos} : le logo pour les
algorithmes avec la commande \cmd{algo} qui donne le résultat \algo{}
et le logo pour les tice avec la commande \cmd{tice} qui donne le
résultat \tice. On peut trouver l'offre un peu limitée et vouloir
inventer d'autre logo. Si le logo doit uniquement être un texte dans
un cartouche, autant être homogène dans la présentation et se servir
de la trame générale de la classe. Celle-ci définit \cmd{algo} de la
façon suivante :
\begin{verbatim}
\newcommand*\algo{%
  \psframebox[framesep=1pt,linewidth=\LogoLineWidth,
              linecolor=AlgoLineColor, fillstyle=solid,
              fillcolor=AlgoBkgColor, framearc=0.6]{%
    \AlgoFont
    \textcolor{AlgoTextColor}{\StringALGO}%
  }
}
\end{verbatim}
\clearpage
La commande \cmd{AlgoFont} vaut
\cmd{fontsize\{9.5\}\{9.5\}}\cmd{sffamily}\cmd{bfseries} comme
l'indique le tableau~\ref{tab-fontes} pages~\pageref{tab-debut-fontes}
à~\pageref{tab-fontes}. Les définitions des couleurs sont indiquées
dans le tableau\ref{tab-couleurs} pages~\pageref{tab-debut-couleur}
à~\pageref{tab-couleurs}. Les éléments les plus susceptibles d'être
modifiées sont les couleurs et, évidemment, le texte à l'intérieur du
cartouche.

Voici un exemple de syntaxe avec un titre et un logo.

\begin{code}
\begin{verbatim}
\begin{activite}[Titre de l'activité][\tice]
  Texte de l'activité...
\end{activite}
\begin{debat}[Titre du débat][\algo]
  Texte du débat...
\end{debat}
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}
\begin{activite}[Titre de l'activité][\tice]
  Texte de l'activité...
\end{activite}
\begin{debat}[Titre du débat][\algo]
  Texte du débat...
\end{debat}

En fait, ces environnements sont définies par la classe en utilisant
la commande \cmd{DeclareActivityLike}. Cette commande demande cinq
arguments qui sont :
\setlist{AE}%
\begin{enumerate}
\item le nom de l'environnement
\item Le titre de l'environnement (dans le cartouche)
\item La couleur du fond de cartouche
\item La couleur du trait sous le cartouche
\item La couleur du titre de l'environnement (et du losange du numéro)
\end{enumerate}
Ainsi, on a le code suivant dans la classe :
\begin{verbatim}
\DeclareActivityLike{debat}{\StringDEBAT}
                    {ActiviteDebatTopColor}
                    {ActiviteDebatBottomColor}
                    {ActiviteTitleColor}
\DeclareActivityLike{activite}{\StringACTIVITE}
                    {ActiviteActiviteTopColor}
                    {ActiviteActiviteBottomColor}
                    {ActiviteTitleColor}
\end{verbatim}
\begin{methode*1}[Créer un nouvel environnement dans les pages Activités]
 
\exercice \begin{code}
\begin{verbatim}
\DeclareActivityLike{nouveau}{DÉCOUVERTE}{lime}{orange}{red}
\begin{nouveau}
  Un nouvel environnement de type activité
\end{nouveau}
\end{verbatim}
\end{code}

\correction \begin{result}
             
            \end{result}

\DeclareActivityLike{nouveau}{DÉCOUVERTE}{lime}{orange}{red}
\begin{nouveau}
  Un nouvel environnement de type activité
\end{nouveau}

\end{methode*1}

À l'intérieur des activités et des débats, on peut utiliser les listes et
les parties, on ne peut pas définir d'exercice.

\section{Cours-Méthodes}
\label{sec-cours-methodes}
La partie cours et méthodes est activée avec la commande
\cmd{cours}. 
\renewcommand{\StringDOCUMENTATION}{Sectionnement}
\begin{documentation}
Cette partie est composée de sections avec des
sous-sections éventuelles. 

Les sections et les sous-sections utilisent les commandes standards
\cmd{section} et \cmd{subsection} avec leur syntaxe standard. On a
même le droit à la version étoilée de ces commandes bien que les
versions étoilées et non étoilées soient strictement équivalentes pour
la classe \class{sesamanuel}. De même, il y a possibilité d'indiquer un
argument optionnel mais celui-ci n'a aucun rôle\ldots{} du moins dans
la version actuelle de la classe !

La classe interdit toutes les autres commandes de sectionnement. Ainsi
les commandes \cmd{part}, \cmd{subsubsection}, \cmd{paragraph} et
\cmd{subparagraph} donneront une erreur de compilation.

Cette documentation utilise essentiellement la partie Cours-Méthodes et les
sections y sont utilisées. 
\end{documentation}

Pour les sous-sections, le code

\begin{code}
\begin{verbatim}
\subsection{Titre de sous-section}
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}

\subsection{Titre de sous-section}
\vfill\clearpage
\begin{definition}[Titre optionnel]
Dans le cours, on utilise assez souvent des cadres du type
définition (comme ici par exemple).  
\end{definition}

\begin{code}
\begin{verbatim}
\begin{definition}[Titre optionnel]
Dans le cours, on utilise assez souvent des cadres du type
définition (comme ici par exemple).  
\end{definition}
\end{verbatim}
\end{code}

génère la définition ci-dessus.
\begin{remarque}
On peut voir que le titre de la définition est spécifiée avec un
argument optionnel. Si celui-ci n'existe pas, il n'y a ni titre, ni
 deux points après le mot \og DÉFINITION \fg{}.

En réalité, la classe utilise la commande \cmd{DeclareDefLike} pour
définir plusieurs environnements de ce type. Cette commande demande
deux arguments : le premier est le nom de l'environnement et le
deuxième est le mot qui sera utilisé comme titre principal. La classe
définit ainsi trois environnements avec le code :
\begin{verbatim}
\DeclareDefLike{definition}{\StringDEFINITION}
\DeclareDefLike{propriete}{\StringPROPRIETE}
\DeclareDefLike{theoreme}{\StringTHEOREME}
\end{verbatim}
Il est donc facile de se créer d'autres environnements de ce type en
cas de besoin.
\end{remarque}

\renewcommand{\StringDOCUMENTATION}{Remarque}
\begin{documentation}
À coté des environnements de type définition, on a des environnements
de type remarque.
\end{documentation}
\begin{code}
\begin{verbatim}
\begin{remarque}
  Ceci est une remarque.
\end{remarque}
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}

\begin{remarque}
  Ceci est une remarque.
\end{remarque}

Comme pour les environnements de type définition, les environnements
de type remarque sont définis en utilisant une commande générale, en
l'occurrence la commande \cmd{DeclareRemLike}. Cette commande ne
demande que deux paramètres: le nom de l'environnement et le titre de
l'environnement. La classe utilise cette commande pour définir un
certain nombre d'environnement avec le code :
\begin{verbatim}
\DeclareRemLike{remarque}{Remarque}
\DeclareRemLike{remarques}{Remarques}
\DeclareRemLike{notation}{Notation}
\DeclareRemLike{notations}{Notations}
\DeclareRemLike{vocabulaire}{Vocabulaire}
\end{verbatim}


\renewcommand{\StringDOCUMENTATION}{Preuve}
\begin{documentation}
Le dernier type d'environnement de ce type est l'environnement
\environ{preuve} qui sert à introduire les démonstrations. Sa syntaxe
est aussi simple que celle des environnements de type remarque. 
\end{documentation}
\begin{code}
\begin{verbatim}
\begin{preuve}
  Ceci est une preuve\par Deuxième ligne de la preuve
\end{preuve}
\end{verbatim}
\end{code}
donne le résultat
\begin{preuve}
  Ceci est une preuve\par Deuxième ligne de la preuve
\end{preuve}

Comme pour les autres environnements, cet environnement est créé en
utilisant une commande. Ici, c'est la commande
\cmd{DeclareProofLike}. Elle demande deux arguments qui sont le nom de
l'environnement et son titre. La classe l'utilise uniquement pour
définir l'environnement \environ{preuve} avec le code
\begin{verbatim}
\DeclareProofLike{preuve}{\StringPREUVE}
\end{verbatim}

Elle a été utilisé pour créer un environnement \environ{code} pour mettre en valeur les exemples de code dans cette documentation. 

\renewcommand{\StringDOCUMENTATION}{Exemple}
\begin{documentation}
On utilise aussi deux environnements permettant d'afficher un exemple
avec sa correction associée. Le premier compose l'exemple et la
correction en vis-à-vis et le second compose l'exemple et la
correction l'une au-dessous de l'autre. La correction est introduite
avec la macro \cmd{correction}. L'environnement qui compose en
vis-à-vis est \environ{exemple} et celui qui compose verticalement est
\environ{exemple*1}. 
\end{documentation}
\begin{code}
\begin{multicols}{2}
\begin{verbatim}
\begin{exemple}
  Texte de l'exemple
  \correction
  Texte de la correction
\end{exemple}
\begin{exemple*1}
  Texte de l'exemple
  \correction
  Texte de la correction
\end{exemple*1}
\end{verbatim}
\end{multicols}
\end{code}
donne le résultat
\begin{exemple}
  Texte de l'exemple
  \correction
  Texte de la correction
\end{exemple}
\begin{exemple*1}
  Texte de l'exemple
  \correction
  Texte de la correction
\end{exemple*1}

Le premier environnement accepte un argument optionnel pour indiquer
le rapport de l'empagement à disposition affecté au texte de
l'exemple. Par défaut, ce rapport vaut \key{0.4}. En jouant avec ce
rapport, on peut équilibrer un peu plus la hauteur des deux colonnes
dans certaines circonstances.


\renewcommand{\StringDOCUMENTATION}{Méthode}
\begin{documentation}
La dernière structure complexe rencontrée dans la partie Cours et
Méthode est celle consacrée aux méthodes. La classe \class{sesamanuel}
propose une gestion très fine de cet élément. Les méthodes
présentent :
\begin{itemize}
\item un titre (optionnel mais présent la plupart du temps) ;
\item un texte introductif (optionnel) ;
\item un ou deux exercices d'application ;
\item une ou deux corrections correspondantes;
\end{itemize}
\end{documentation}

Il y a quatre types possibles de présentation
représentés par quatre environnements différents :
\begin{itemize}
\item L'environnement \environ{methode} qui compose la méthode avec
  l'exercice d'application en vis-à-vis de sa correction.
\item L'environnement \environ{methode*1} qui compose l'ensemble de la
  méthode sur une seule colonne de la largeur d'empagement.
\item L'environnement \environ{methode*2} qui compose une méthode avec
  l'exercice d'application et sa correction sur deux colonnes (mais
  pas nécessairement en vis-à-vis).
\item L'environnement \environ{methode*2*2} qui compose une méthode
  avec deux colonnes contenant chacune un exercice d'application et sa
  correction au-dessous.
\end{itemize}

\begin{code}\label{exemple-methode-debut}
\begin{verbatim}
\begin{methode}[Titre de la méthode]
  Texte introductif
  \exercice
  Texte de l'exercice
  \correction
  Texte de la correction sur un minimum de trois lignes pour faire la
  différence entre vis-à-vis et double colonne. C'est l'endroit de la
  coupure qui va différer.
\end{methode}
\end{verbatim}
\end{code}
 \begin{result} 
 
 \end{result}
\begin{methode}[Titre de la méthode]
  Texte introductif
  \exercice
  Texte de l'exercice
  \correction
  Texte de la correction sur un minimum de trois lignes pour faire la
  différence entre vis-à-vis et double colonne. C'est l'endroit de la
  coupure qui va différer.
\end{methode}
\clearpage
\begin{code}
\begin{verbatim}
\begin{methode*1}[Titre de la méthode]
  [même corps que ci-dessus]
\end{methode*1}
\end{verbatim}
\end{code}
\begin{result}

\end{result}
\begin{methode*1}[Titre de la méthode]
  Texte introductif
  \exercice
  Texte de l'exercice
  \correction
  Texte de la correction sur un minimum de trois lignes pour faire la
  différence entre vis-à-vis et double colonne. C'est l'endroit de la
  coupure qui va différer.
\end{methode*1}

\begin{code}
\begin{verbatim}
\begin{methode*2}[Titre de la méthode]
  [même corps que ci-dessus]
\end{methode*2}
\end{verbatim}
\end{code}
\begin{result}

\end{result}
\begin{methode*2}[Titre de la méthode]
  Texte introductif
  \exercice
  Texte de l'exercice
  \correction
  Texte de la correction sur un minimum de trois lignes pour faire la
  différence entre vis-à-vis et double colonne. C'est l'endroit de la
  coupure qui va différer.
\end{methode*2}
et on voit bien la différence entre les environnements
\environ{methode} et \environ{methode*2} : le premier composant en
vis-à-vis alors que le second fait une composition sur deux colonnes
en équilibrant celles-ci.
\vfill\clearpage
Le dernier environnement de type \og méthode\fg{} permet de composer
deux exercices avec les deux corrections le tout sur deux colonnes. 

\begin{code}\label{code-methode-exemple}
\begin{verbatim}
\begin{methode*2*2}[Dernière méthode\MethodeRefExercice{exo-exemple}]
  \exercice
  \label{methode-exemple}
  Texte du premier exercice
  \correction
  Correction du premier exercice
  \exercice
  Texte du deuxième exercice
  \correction
  Texte de la correction du deuxième exercice sur un minimum de trois
  lignes pour faire la différence entre vis-à-vis et double
  colonne. C'est l'endroit de la coupure qui va différer.
\end{methode*2*2}
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}

\begin{methode*2*2}[Dernière méthode\MethodeRefExercice{exo-exemple}]
  \exercice
  \label{methode-exemple}
  Texte du premier exercice
  \correction
  Correction du premier exercice
  \exercice
  Texte du deuxième exercice
  \correction
  Texte de la correction du deuxième exercice sur un minimum de trois
  lignes pour faire la différence entre vis-à-vis et double
  colonne. C'est l'endroit de la coupure qui va différer.
\end{methode*2*2}
\label{exemple-methode-fin}

\begin{remarque}
Il est possible qu'une méthode soit directement reliée à un exercice
qui apparaîtra plus loin (dans la partie Exercices de base ou
Exercices d'approfondissement). \\Dans ce cas, on peut indiquer une
référence à cet exercice à l'intérieur du titre de la méthode avec
la macro \cmd{MethodeRefExercice} qui va prendre en argument
l'étiquette indiquée (avec un \cmd{label}) au niveau de l'exercice en
question. 

De plus, il est fortement recommandé que l'exercice fasse
référence à la méthode avec la macro \cmd{ExerciceRefMethode} qui
prendra en argument l'étiquette indiquée au niveau de la méthode
(toujours avec la commande \cmd{label}). 

On reverra ce point dans la
section suivante avec un exemple complet. 

La macro
\cmd{MethodeRefExercice} peut être étoilée mais là aussi, on reverra
cela avec les exercices.
\end{remarque}
\clearpage
\section{Exercices d'entraînement}
\label{sec-exercices-d-entrainement}
Les exercices sont répartis en exercices d'entraînement et en
exercices d'approfondissement. 

La partie Exercices d'entraînement est
introduite par la macro \cmd{exercicesbase}. La maquette demande à ce
que les exercices soient composés en double-colonne avec un filet de
séparation d'une certaine épaisseur et d'une certaine couleur. Tout
ceci est réalisé en plaçant les exercices dans l'environnement
\environ{colonne*exercice}.

On peut regrouper les exercices par sous-thèmes avec la commande
\cmd{serie} qui demande un argument obligatoire: le thème des
exercices.

Les exercices proprement dits seront spécifiés à l'intérieur d'un
environnement \environ{exercice} qui a exactement la même syntaxe que
pour la première page d'un chapitre, c'est-à-dire un premier argument
optionnel pour un titre d'exercice et un deuxième argument optionnel
pour un logo.

L'environnement étoilé est normalement destiné aux exercices
corrigés. En réalité, il ne fait que donner au cadre du numéro
d'exercice une autre couleur de fond, c'est la présence de
l'environnement \environ{corrige} qui fera qu'il y aura une
correction. Ces corrections, ainsi que toutes les autres corrections
de toutes les autres parties des chapitres seront affichés dans la
partie Solutions (voir section~\ref{sec-solutions}
page~\pageref{sec-solutions}).

\begin{code}
\begin{verbatim}
\begin{colonne*exercice}
\serie{titre de série}
\begin{exercice}[Exercice sans correction][\tice]
  prouver que $1=1$
\end{exercice}

\begin{exercice*}[Exercice avec correction]
  Prouver que $2=2$
\end{exercice*}
\begin{corrige}
  On sait que $1=1$ avec l'exercice précédent donc $1+1=1+1$,
  c'est-à-dire $2=2$.
\end{corrige}

\begin{exercice}[Lien avec une méthode \ExerciceRefMethode{methode-exemple}]
  \label{exo-exemple}
  Test pour avoir un lien avec une méthode.
\end{exercice}
\end{colonne*exercice}
\end{verbatim}
\end{code}
\begin{result}

\end{result}
\begingroup
\simuleexercicesbase
\begin{colonne*exercice}
\serie{titre de série}
\begin{exercice}[Exercice sans correction][\tice]
  prouver que $1=1$
\end{exercice}

\begin{exercice*}[Exercice avec correction]
  Prouver que $2=2$
\end{exercice*}
\begin{corrige}
  On sait que $1=1$ avec l'exercice précédent donc $1+1=1+1$,
  c'est-à-dire $2=2$.
\end{corrige}

\begin{exercice}[Lien avec une méthode \ExerciceRefMethode{methode-exemple}]
  \label{exo-exemple}
  Test pour avoir un lien avec une méthode.
\end{exercice}
\end{colonne*exercice}
\endgroup

\begin{remarque}
\begin{itemize}
 \item 
L'exemple montre également le jeu de ping-pong avec les
méthodes. L'exercice~\ref{exo-exemple} fait référence à la
méthode~\ref{methode-exemple} page~\pageref{methode-exemple} grâce à
la commande \cmd{ExerciceRefMethode}. En revenant au code de cette
méthode, on peut voir que cette dernière fait référence à cet exercice
grâce à la commande \cmd{MethodeRefExercice} (voir
le code page~\pageref{code-methode-exemple}).

\item À l'intérieur d'un exercice, il est possible d'utiliser la macro
\cmd{partie}. Cette commande accepte un argument optionnel qui sera le
titre de la partie.
\end{itemize}
\end{remarque}

\section{Exercices d'approfondissement}
\label{sec-exercices-d-approfondissement}
La partie Exercices d'approfondissement est introduite par la commande
\cmd{exercicesappr}. Cela va commencer une nouvelle page et modifier
le titre des en-têtes mais tout le reste sera strictement identique à
la partie Exercices de base.
\section{Récréation, énigmes}
\label{sec-recreation-enigmes}
À la suite des exercices d'approfondissement (ou des travaux
pratiques), on peut placer un ou plusieurs exercices plus délicats ou
sortant de l'ordinaire qu'on regroupe dans une partie Récréation,
énigmes. Contrairement aux autres parties des chapitres, cette partie
peut être introduite de deux façons différentes. Soit avec la commande
\cmd{recreation}, soit avec la commande \cmd{Recreation}: on notera
la première lettre capitale ou non.

La version \cmd{recreation} ne provoque pas de coupure de page et pas
d'en-tête particulière. Un bandeau similaire à ce qu'on trouve en
en-tête sera composé en milieu de page. 
\begin{code}
\begin{verbatim}
\recreation
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}

\recreation

La version \cmd{Recreation} (avec sa première lettre capitale)
provoque un changement de page et un changement d'en-tête de page
(ainsi qu'un changement de couleur de pied de page) comme toutes les
autres commandes de début de partie de chapitre.

Dans la partie Récréation-énigmes, on utilise l'environnement
\environ{enigme} pour spécifier les textes d'exercices. Ceux-ci ne sont
pas numérotés donc cette partie est plutôt destinée à recevoir un seul
exercice. C'est encore plus vrai avec la commande \cmd{recreation} qui
ne provoque pas de changement d'en-tête et qui est donc vraiment
destiné à recevoir du matériel sur le reste de la page, pas sur la
page suivante.

\clearpage
\section{Je teste mes connaissances}
\label{sec-je-teste-mes-connaissances}
La partie Je teste mes connaissances est introduite par la commande
\cmd{connaissances}. Comme les autres commandes de partie, elle
provoque un saut de page et la modification des en-têtes et pieds de
page.
\renewcommand{\StringDOCUMENTATION}{\`A la fin du chapitre je dois être capable de}
\begin{documentation}
Dans cette partie, on attend une première zone où on indique les
points devant être acquis en fin de leçon puis une seconde zone avec
des QCM d'auto-évaluation.

La zone indiquant les points devant être acquis est indiquée avec
l'environnement \environ{acquis}. Le corps de cet environnement liste
ces points (normalement dans un environnement \environ{itemize}
éventuellement plusieurs environnements emboîtés).
\end{documentation}

\renewcommand{\StringDOCUMENTATION}{Le Q.C.M.}
\begin{documentation}
\begin{itemize}
\item La zone des QCM d'auto-évaluation est introduite par la commande
\cmd{QCMautoevaluation} qui demande un argument obligatoire pour un
texte informatif général. C'est normalement un texte du type \og Pour
chaque question, plusieurs réponses sont proposées. Déterminer celles
qui sont correctes. \fg

\item À l'intérieur de cet environnement, on peut définir des cadres à
l'intérieur desquels on regroupera un texte introductif et plusieurs
QCM apparentés. 
\begin{itemize}
\item Le cadre extérieur se réalise en appelant
l'environnement \environ{QCM}, le texte introductif commun est composé
avec l'environnement \environ{EnonceCommunQCM} et les QCM seront tous
placés dans un environnement \environ{GroupeQCM}. Dans ce dernier
environnement, les QCM et leurs corrigés seront saisis comme
précédemment, c'est-à-dire avec les environnements \environ{exercice}
et \environ{corrige}.

\item Les QCM sont des exercices un peu particuliers et certaines commandes
sont faites pour eux. On trouve l'environnement \environ{ChoixQCM} qui
va se comporter comme une liste numérotée en colonne avec la commande
\cmd{item} pour indiquer les différentes propositions. Elle demande un
argument obligatoire qui est le nombre de colonnes. 
\item Pour les
corrections, on trouve la commande \cmd{reponseQCM} qui demande un
argument obligatoire donnant la liste des réponses justes. Si
plusieurs réponses sont justes, on donnera la liste des lettres sans
séparateur.
\end{itemize}
\end{itemize}
\end{documentation}
Pour illustrer toutes ces informations:\vspace{-\baselineskip}
\begin{code}
\begin{verbatim}
\connaissances
\begin{acquis}
  \begin{itemize}
  \item Premier point à connaître.
  \item Autre point à savoir faire.
  \item Dernier point devant être su.
  \end{itemize}
\end{acquis}
\QCMautoevaluation{texte introductif}
\begin{QCM}
  \begin{EnonceCommunQCM}
    Pour les questions \RefQCM{premier-qcm} à
    \RefQCM{deuxieme-qcm}, $f$ désigne une
    fonction affine.
  \end{EnonceCommunQCM}
  \begin{GroupeQCM}
    \begin{exercice}\label{premier-qcm}
      La courbe de $f$ est
      \begin{ChoixQCM}{3}
      \item une droite
      \item une parabole
      \item autre
      \end{ChoixQCM}
    \end{exercice}
    \begin{corrige}
      \reponseQCM{a}
    \end{corrige}
    \begin{exercice}\label{deuxieme-qcm}
      $f(3)$
      \begin{ChoixQCM}{3}
      \item vaut la moitié de $f(6)$
      \item vaut le double de $f(6)$
      \item on ne peut pas savoir
      \end{ChoixQCM}
    \end{exercice}
    \begin{corrige}
      \reponseQCM{c}
    \end{corrige}
  \end{GroupeQCM}
\end{QCM}
\end{verbatim}
\end{code}
Le résultat est indiqué page suivante :

\begingroup
\connaissances
\begin{acquis}
  \begin{itemize}
  \item Premier point à connaître.
  \item Autre point à savoir faire.
  \item Dernier point devant être su.
  \end{itemize}
\end{acquis}
\QCMautoevaluation{texte introductif}
\begin{QCM}
  \begin{EnonceCommunQCM}
    Pour les questions \RefQCM{premier-qcm} à
    \RefQCM{deuxieme-qcm}, $f$ désigne une
    fonction affine.
  \end{EnonceCommunQCM}
  \begin{GroupeQCM}
    \begin{exercice}\label{premier-qcm}
      La courbe de $f$ est
      \begin{ChoixQCM}{3}
      \item une droite
      \item une parabole
      \item autre
      \end{ChoixQCM}
    \end{exercice}
    \begin{corrige}
      \reponseQCM{a}
    \end{corrige}
    \begin{exercice}\label{deuxieme-qcm}
      $f(3)$
      \begin{ChoixQCM}{3}
      \item vaut la moitié de $f(6)$
      \item vaut le double de $f(6)$
      \item on ne peut pas savoir
      \end{ChoixQCM}
    \end{exercice}
    \begin{corrige}
      \reponseQCM{c}
    \end{corrige}
  \end{GroupeQCM}
\end{QCM}
\endgroup

\newpage
\section{Travaux pratiques}
\label{sec-travaux-pratiques}
La partie concernant les travaux pratiques est introduite avec la
macro \cmd{TravauxPratiques}. \\Elle se compose uniquement de travaux
pratiques. Ceux-ci sont indiqués grâce à l'environnement
\environ{TP}. \\Il s'agit d'un environnement qui fonctionne exactement
comme les activités et les débats (voir
section~\ref{sec-activites-d-approche}
page~\pageref{sec-activites-d-approche}).

Tout ce qui a été dit pour les activités reste valable. En
particulier, la possibilité d'avoir un titre avec le premier argument
optionnel de l'environnement et un logo avec le second argument
optionnel. On peut même se créer de nouveaux environnements avec
\cmd{DeclareActivityLike} si on trouve que le titre \og Activité \fg{}
n'est pas le plus approprié. N'oubliez cependant pas que tout est
paramétrable : le mot \og TP \fg{} qui est en fait le contenu de
la macro \cmd{StringTP} et les couleurs utilisées qui sont
\key{TPTopColor}, \key{TPBottomColor} et \key{TPTitleColor}.

Dans l'énoncé d'un TP, on peut utiliser la commande \cmd{partie}.

Il est possible de terminer une série de travaux pratiques par une
Récréation, énigmes (voir section~\ref{sec-recreation-enigmes}
page~\pageref{sec-recreation-enigmes}).

\section{Annexes générales}
\label{sec-annexes-generales}
Toutes les annexes sont placées en fin d'ouvrage, à la suite des
chapitres. Un certain nombre d'annexes ont des usages très
particuliers et seront vues dans les sections qui suivent. On peut
quand même signaler que toutes les annexes partageront le même type
d'en-tête qui, en fait ne sera pas vraiment une en-tête mais une sorte
de bandeau courant sur le bord de la page. Seule sa couleur changera
selon le type d'annexe.

On commencera par les annexes sans caractéristique particulière qui
sont introduites avec la macro \cmd{annexe}. Cette commande demande un
argument obligatoire pour le titre de l'annexe.

À l'intérieur d'une annexe, on peut presque tout faire. Les deux
seuls éléments interdits sont les corrections d'exercices et la
commande \cmd{partie} (lorsqu'elle est utilisée en dehors d'un
exercice).

Il y a une certaine homogénéité dans le choix des couleurs à
l'intérieur d'une annexe. Il est possible, comme d'habitude, de
modifier les couleurs de façon individuelle mais, pour assurer cette
homogénéité la classe fournit la commande \cmd{ChangeAnnexe} qui
demande quatre arguments qui seront les couleurs utilisées dans
l'annexe. Le premier argument est la couleur du bandeau de marge
(\key{AnnexeHeadFrameColor}). Le deuxième argument est une couleur
partagée par plusieurs éléments :
\begin{itemize}
\item \key{AnnexeSectionRuleColor}
\item \key{AnnexeItemColor}
\item \key{AnnexeExerciceCorrigeNumFrameColor}
\item \key{AnnexeExerciceNumFrameColor}
\end{itemize}
Le troisième argument est également une couleur partagée par plusieurs
éléments :
\begin{itemize}
\item \key{AnnexeSectionTitleColor}
\item \key{AnnexeExerciceTitleColor}
\end{itemize}
Enfin, le quatrième et dernier argument est la couleur des numéros
d'exercices. Par défaut la classe appelle cette macro de cette façon :
\begin{verbatim}
\ChangeAnnexe{G3}{A1}{G1}{Blanc}
\end{verbatim}
\clearpage
\section{Liste des méthodes}
\label{sec-liste-des-methodes}
L'annexe spéciale réservée à la liste des méthodes ne demande rien
d'autre à l'utilisateur qu'à taper la commande
\cmd{AfficheListeMethodes}.
\begin{syntaxe}
\begin{verbatim}
\AfficheListeMethodes[nombre colonnes]
\end{verbatim}
L'argument optionnel indique le nombre de colonnes sur lesquelles
composer la liste des méthodes. Par défaut, c'est la valeur de
la macro \cmd{NombreColonnesListeMethodes} et par défaut, la classe
définit cette dernière comme valant~2.
\end{syntaxe}

Les méthodes sont listées en commençant par le thème Statistiques et
probabilités, puis par le thème Fonctions et enfin par le thème
Géométrie. Cet ordre peut être modifié en redéfinissant la commande
\cmd{ListeMethodesThemes}. Cette dernière est une liste, séparée par
des virgules, des lettres minuscules et capitales définissant chaque
thème. La définition initiale donnée par la classe est donc :
\begin{verbatim}
\newcommand\ListeMethodesThemes{{sp}{SP},{f}{F},{g}{G}}
\end{verbatim}

Dans cette documentation, on a composé plusieurs méthodes comme exemples de fonctionnement de la classe (pages~\pageref{exemple-methode-debut}
à~\pageref{exemple-methode-fin}) ou pour expliquer une possibilité de personnalisation de la classe et d'autres. 

Un appel à cette macro va donner le
résultat suivant sur une nouvelle page avec la mise en page générale des annexes.
\begingroup
\def\clearpage{\par\hrulefill\par\vspace{2cm}}
\def\pagestyle#1{}
\def\thispagestyle#1{}
\renewcommand\ListeMethodesThemes{{m}{M}}
\AfficheListeMethodes
\par\hrulefill
\endgroup



À noter que comme les méthodes de cette documentation ont été réalisée
dans un chapitre avec le thème personnalisé \key{manuel} il a fallu
redéfinir le contenu de \cmd{ListeMethodesThemes} avec la commande :
\begin{verbatim}
\renewcommand\ListeMethodesThemes{{m}{M}}
\end{verbatim}
Voir page~\pageref{newthema} où l'on présente la commande \cmd{NewThema}
pour les explications des lettres \og m \fg{} et \og M \fg{}.

Dans un ouvrage réel, les bandeaux de chaque thème ne seront affichés
que s'il y a au moins une méthode dans le thème et, évidemment, si les
lettres du thèmes sont listées dans la macro
\cmd{ListeMethodesThemes}.

\section{Solutions}
\label{sec-solutions}
La classe automatise la composition des solutions des exercices d'un
ouvrage. Lorsqu'on veut qu'un exercice ait une correction, il suffit
de le faire suivre immédiatement d'un environnement
\environ{corrige}. Ensuite, la seule chose à faire est d'appeler la
commande \cmd{AfficheCorriges}.
\begin{syntaxe}
\begin{verbatim}
\AfficheCorriges[nombre colonnes]
\end{verbatim}
L'argument optionnel indique le nombre de colonnes sur lesquelles
composer les solutions aux exercices. Par défaut, c'est la valeur de
la macro \cmd{NombreColonnesCorriges} et par défaut, la classe définit
cette dernière comme valant~3.
\end{syntaxe}
\renewcommand{\StringDOCUMENTATION}{Tout se fait automatiquement:}
\begin{documentation}
\begin{itemize}
 \item Chaque chapitre a son bandeau avec son titre et la couleur de son
thème.
\item \`A l'intérieur de chaque chapitre, chaque partie à son titre
si elle contient au moins une solution à un exercice. 
\item Si une partie ne
contient aucune solution, elle n'aura pas de titre de partie.
\end{itemize}
\end{documentation}

\begin{remarque}
On a utilisé cette commande à la toute fin de cette documentation. 
\begin{itemize}
 \item On
voit que le premier chapitre (Introduction) ne contenait aucune
solution. C'est un cas qui ne devrait pas arriver en pratique mais
cela permet de voir qu'il n'y a rien d'afficher : aucune correction et
aucune partie. 
\item Le deuxième chapitre (Classe pour un ouvrage) contient
des solutions d'exercices à la fois dans la partie \og Auto-évaluation
\fg{}, \og S'entraîner \fg{} et \og Auto-évaluation \fg{} en QCM donc
la liste de corrections contiendra ces trois titres de parties. 
\item Le
chapitre suivant (Classe pour quelques feuilles) contient la solution
de deux exercices dans la partie Auto-évaluation. 
\item Enfin, le dernier
chapitre (Détails typographiques) ne contient que trois solutions
d'exercices dans la partie Auto-évaluation.
\end{itemize}
\end{remarque}

\begin{attention}
Comme de nombreux éléments de la maquette, une solution d'exercice est
insécable. Lorsqu'une solution est particulièrement longue, cela peut
devenir disgracieux, voire carrément fautif si la correction prend
plus que la hauteur d'une colonne. La maquette incite à des solutions
très courtes. 

S'il n'est  vraiment pas possible de faire autrement,
la classe offre la commande \cmd{Coupe} qui permet une coupure de
colonne à ce niveau.
\end{attention}
\vfill \clearpage
\renewcommand{\StringDOCUMENTATION}{La commande \cmd{Coupe}}
\begin{documentation}
\begin{itemize}
 \item  
Cette commande ne provoque pas
nécessairement de coupure de colonne mais provoque obligatoirement un
fin de paragraphe.
La commande \cmd{Coupe} provoque en fait la fermeture de la minipage
en cours puis la réouverture d'une autre minipage avec une commande
\cmd{par} entre les deux. Cela empêche d'avoir d'autres environnements
qui contiendrait cette commande \cmd{Coupe}. En pratique, ce qui
risque d'arriver assez souvent est que la commande coupe se trouve à
l'intérieur d'une liste, dans le cas le plus embêtant, à l'intérieur
d'une liste numérotée. Voici la méthode générale pour gérer ce cas de
figure.
\end{itemize}
\end{documentation}
\begin{code}
\begin{verbatim}
\begin{corrige}
  \begin{enumerate}
  \item premier point
  \item deuxième point
  \end{enumerate}
  \Coupe
  \begin{enumerate}
    \setcounter{enumi}{2}
  \item troisième point après la coupure
\end{enumerate}
\end{corrige}
\end{verbatim}
\end{code}
\begin{attention}
Cette commande est un peu délicate à utiliser et sert à corriger les
coupures de colonnes d'un ouvrage. Comme tout ce qui concerne les
coupures de page ou de colonne, c'est à utiliser en toute fin de
composition, une fois qu'on est absolument certain que le texte ne
changera plus\ldots{} sinon, vous risquez de travailler pour rien !
C'est une commande pour le metteur en page, pas pour l'auteur (si les
deux sont différents).
\end{attention}

\renewcommand{\StringDOCUMENTATION}{Organisation pratique}
\begin{documentation}
 Chaque fois que l'environnement \environ{corrige} est utilisé, la classe crée un fichier à part avec la correction. Ces fichiers seront appelés lors de la création de la page Solution à l'appel de la commande \cmd{AfficheCorriges}. 
 
 Si l'environnement est souvent utilisé, cela va créer une multitude de petits fichiers à la racine du répertoire. 
 
 Il est toutefois possible de créer un répertoire \og corrections \fg{} et de demander à la classe d'y ranger les fichiers de correction avec la commande suivante 
 à mettre avant le \verb+\begin{document}+.
 
 
\end{documentation}

\begin{syntaxe}
 \verb+\renewcommand\PrefixeCorrection{corrections/}+
\end{syntaxe}


\vfill \clearpage
\section{Propriétés}
\label{sec-proprietes}
Une annexe à l'allure tout à fait particulière est celle dédiée aux
propriétés. En réalité, il s'agit d'une annexe générale classique,
c'est-à-dire introduite avec la commande \cmd{annexe} mais la classe
offre plusieurs commandes et environnements particuliers pour gérer
cette présentation.

En premier lieu, il y a une syntaxe très particulière de tableau. Les
tableaux seront présentées à la section~\ref{sec-tableaux}
page~\pageref{sec-tableaux} et on pourra s'y référer pour plus de
détails sur la syntaxe générale. Celui qui va servir à composer les
propriétés est l'environnement \environ{tableau} avec l'argument
optionnel \key{pr}. Cet environnement demande un argument obligatoire
indiquant la largeur totale du tableau. Il compose des tableaux sur
trois colonnes avec la colonne du milieu légèrement plus large que les
deux autres et avec un fond coloré. Théoriquement, si on respecte la
maquette, la première colonne est là pour accueillir la figure
illustrant la propriété, la deuxième colonne pour le texte de la
propriété et la troisième pour indiquer le lien entre la figure et la
propriété. \begin{code}
\begin{verbatim}
\begin{tableau}[pr]{\linewidth}
  \hline
  \begin{pspicture}(0,0.25)(3.5,2.5)
    \pnode(0,0.5){A}
    \pnode(2.5,0.5){B}
    \pnode(3.5,2){C}
    \pnode(1,2){D}
    \pspolygon(A)(B)(C)(D)
    \psline(A)(C)
    \psline(B)(D)
    \uput[d](A){$A$}
    \uput[d](B){$B$}
    \uput[u](C){$C$}
    \uput[u](D){$D$}
  \end{pspicture}
  &
  \propriete{} Si un quadrilatère est un parallélogramme alors ses
  diagonales se coupent en leur milieu. (C'est aussi vrai pour les
  losanges, rectangles et carrés qui sont des parallélogrammes
  particuliers.)
  &
  Ici $ABCD$ est un parallélogramme donc ses diagonales $[AC]$ et
  $[BD]$ se coupent en leur milieu.
  \\\hline
\end{tableau}
\end{verbatim}
\end{code}
\begin{result}

\end{result}

\begin{tableau}[pr]{\linewidth}
  \hline
  \begin{pspicture}(0,0.25)(3.5,2.5)
    \pnode(0,0.5){A}
    \pnode(2.5,0.5){B}
    \pnode(3.5,2){C}
    \pnode(1,2){D}
    \pspolygon(A)(B)(C)(D)
    \psline(A)(C)
    \psline(B)(D)
    \uput[d](A){$A$}
    \uput[d](B){$B$}
    \uput[u](C){$C$}
    \uput[u](D){$D$}
  \end{pspicture}
  &
  \propriete{} Si un quadrilatère est un parallélogramme alors ses
  diagonales se coupent en leur milieu. (C'est aussi vrai pour les
  losanges, rectangles et carrés qui sont des parallélogrammes
  particuliers.)
  &
  Ici $ABCD$ est un parallélogramme donc ses diagonales $[AC]$ et
  $[BD]$ se coupent en leur milieu.
  \\\hline
\end{tableau}

Cet exemple montre l'utilisation de la commande \cmd{propriete} qui
compose le mot \og PROPRIÉTÉ \fg{} suivi de son numéro dans un cadre
en couleur. À chaque appel de cette macro, le numéro augmentera. 

\begin{remarque}
Il
est possible d'utiliser le mécanisme des \cmd{label} pour faire
référence aux propriétés de ce type de tableau.
\end{remarque}

La classe définit également la commande \cmd{ListeProprietes} qui
permet de retrouver le même cartouche que celui de la commande
\cmd{propriete} mais avec un arguments donnant la liste des
numéros. 

\begin{code}
\begin{verbatim}
\ListeProprietes{P1 à P6}
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}
\ListeProprietes{P1 à P6}. 

Cela permet de donner
des explications générales sur des regroupements de propriétés. On
peut également utiliser la commande \cmd{section} pour séparer les
propriétés en plusieurs thèmes généraux.

\section{Lexique}
\label{sec-lexique}
La classe \class{sesamanuel} permet de composer un lexique ou glossaire
de façon totalement automatique, c'est-à-dire sans recours à aucun
outil externe, et de façon très souple.

Pour inclure un objet dans le lexique, on utilise la commande
\cmd{MotDefinition} dont la syntaxe est très riche :
\begin{syntaxe}\verb+\ModDefinition[lexique]{mot}[tri]{définition}+

La commande a donc deux arguments obligatoires. Le premier est le mot
ou l'expression à mettre dans le lexique et le second est la
définition de ce mot ou de cette expression. On verra la signification
des arguments optionnels après.
\end{syntaxe}

Le deuxième argument peut être vide ou non. S'il n'est pas
vide, on écrit le mot suivi de sa définition dans le glossaire. S'il
est vide, on écrit le mot dans le glossaire suivi de la page où la
commande \cmd{MotDefinition} a été utilisée et le mot est composé en
gras dans le texte. Voici un premier exemple.
\begin{code}
\begin{verbatim}
\MotDefinition{glossaire}{Liste de mots utilisés dans le texte avec leurs définitions}
Dans cette section, on parle de \MotDefinition{lexique}{} et de glossaire.
\end{verbatim}
\end{code}
\begin{result}
 
\end{result}

\MotDefinition{glossaire}{Liste de mots utilisés dans le texte avec
leurs définitions}
Dans cette section, on parle de \MotDefinition{lexique}{} et de
glossaire.
\vfill\clearpage
On peut voir que les entrées avec une définition peuvent être saisies
à n'importe quel endroit du document, voire regroupées dans un fichier
externe appelé par un \cmd{input}.

\begin{remarque}
Dans certains cas, le terme apparaissant dans le lexique ne peut pas
être classé alphabétiquement de façon satisfaisante. Par exemple,
supposons qu'on veuille indexer le symbole
\MotDefinition{$\int$}[integralea]{}, le mot
\MotDefinition{intégrale}{} ainsi que le mot
\MotDefinition{intégration}{} mais qu'on veuille que, dans le lexique,
le symbole mathématique soit classé immédiatement après le mot \og
intégrale \fg{}. 

On se sert alors du deuxième argument optionnel qui
permet de spécifier le classement alphabétique. Par défaut, le
classement s'effectue en se servant du premier argument obligatoire
saut si, justement, on utilise le deuxième argument optionnel. 
\end{remarque}

\begin{code}
\begin{verbatim}
\MotDefinition{$\int$}[integralea]{}
\MotDefinition{intégrale}{}
\MotDefinition{intégration}{}
\end{verbatim}
\end{code}
va produire trois entrées dans le lexique : les deux mots \og intégrale
\fg{} et \og intégration \fg{} et le symbole \og $\int$ \fg{} classé
immédiatement après le mot \og intégrale \fg{}.

Le premier argument optionnel n'a de sens que lorsqu'on ne donne pas
de définition, c'est-à-dire lorsque le deuxième argument obligatoire
est vide. Il sert à avoir un mot différent entre ce qui est placé dans
le lexique et ce qui est composé dans le texte. Normalement, ce sont
les mêmes \MotDefinition[mot]{mots}{} qui servent pour les deux usages
mais, de temps en temps, on voudrait faire référence à un mot qui
n'est pas exactement celui employé dans le texte. Un exemple fréquent
est l'utilisation d'un mot au pluriel dans le texte alors que le
lexique présente normalement le mot au singulier. Par exemple, on a
utilisé le code :
\begin{verbatim}
\MotDefinition[mot]{mots}{}
\end{verbatim}
un peu au-dessus dans ce paragraphe. Cela a fait que c'est bien \og
mots \fg{} (au pluriel) qui a été mis en gras dans ce paragraphe mais
que c'est \og mot \fg{} (au singulier) qu'on peut voir dans l'entrée
d'index ci-dessous.

\begingroup
\def\clearpage{\par\goodbreak\hrulefill\par\vspace{2cm}}
\def\pagestyle#1{}
\def\thispagestyle#1{}
\AfficheLexique
\par\hrulefill\par
\endgroup
\vfill \clearpage
L'affichage du lexique se fait grâce à la commande
\cmd{AfficheLexique}. Sa syntaxe est semblable à celle de la commande
\cmd{AfficheCorriges}.
\begin{syntaxe}
\begin{verbatim}
\AfficheLexique[nombre colonnes]
\end{verbatim}
L'argument optionnel indique le nombre de colonnes sur lesquelles
composer le lexique. Par défaut, c'est la valeur de
la macro \cmd{NombreColonnesLexique} et par défaut, la classe définit
cette dernière comme valant~2.
\end{syntaxe}

\begin{remarque}
La classe procède a plusieurs traitements automatiques. 
\begin{itemize}
 \item 
 En premier lieu
le classement alphabétique (en traitant les accents comme la lettre
non accentuée) et la mise en minuscule de l'entrée avec la première
lettre en capitale. Si ces automatismes doivent être inhibés, il
faudra utiliser les arguments optionnels de la commande
\cmd{MotDefinition}. 
\item En deuxième lieu le placement d'un bandeau pour
chaque groupe de première lettre existant.
\end{itemize}

C'est la classe elle même qui s'occupe d'un classement
alphabétique. Pour cela, si l'argument optionnel de tri n'est pas
spécifié, c'est le mot en lui même qui sera utilisé pour le tri. La
classe procède à un traitement préalable pour fabriquer sa clé de tri
à partir du mot. Ce traitement consiste à traduire en minuscule en
changeant toutes les lettres diacritiques en la ou les lettres simples
correspondantes ( \og ç \fg{} en \og c \fg{}, \og ê \fg{} en \og e
\fg{}, \og œ \fg{} en \og oe \fg{}, etc.). Cette façon de faire ne
donne pas strictement l'ordre alphabétique français puisque les
diactritiques dépendant d'une seule lettre sont classées au
hasard. Par exemple, les mots \og côté \fg{} et \og coté \fg{} seront
classés de façon aléatoire. Pour un lexique d'ouvrage mathématique, le
cas ne devrait pas arriver souvent et, au pire, on peut y remédier
avec l'argument optionnel de tri mais c'est néanmoins une petite
amélioration à laquelle il faudra songer pour une prochaine version de
la classe.
\end{remarque}

\chapter{Classe pour\\ quelques feuilles}\label{chClsPourQQFeuilles}
\label{chap-classe-pour-quelques-feuilles}
\begin{prerequis}
  Dans ce chapitre, nous présentons l'utilisation de la classe
  permettant de construire quelques éléments d'un ouvrage sans devoir
  en suivre l'organisation générale.

  Typiquement, cette partie de la classe a été pensée pour qu'une
  personne puisse aller sur le site de \Logosesa{}, prendre le code
  source d'un ou plusieurs exercices (par exemple) et compiler un
  document ne contenant que ces quelques exercices.
\vfill \columnbreak
  En prenant quelques éléments épars de la classe on a construit
  l'extension \package{sesamanuel.sty}. Celle-ci permet de compiler des
  exemples simples qui utilisent quelques éléments de syntaxe de la
  classe \class{sesamanuel} mais sous une autre classe comme \class{beamer}.

  Une première section étudiera l'utilisation de la classe et une
  seconde l'utilisation de l'extension.
\end{prerequis}

\begin{autoeval}
  \begin{multicols}{2}
    \begin{exercice}
      Où trouver les codes sources des manuels ?
    \end{exercice}
    \begin{corrige}
      Les codes sources des manuels peuvent être téléchargés 
\begin{itemize}
 \item 
      par chapitre (fichiers zip) sur le site
      \texttt{http://www.sesamath.net/}. Cliquez sur Les manuels puis sur
      \texttt{TÉLÉCHARGEMENTS}. Actuellement, seuls les manuels de lycée
      utilisent \LaTeX{} et cette classe.
\item par vignette du manuel numérique en cliquant sur le logo \includegraphics{logotex.eps}
\end{itemize}

    \end{corrige}
\vfill \columnbreak
    \begin{exercice}
      Je voudrais faire une présentation de mes exercices avec
      \class{beamer}. Comment procéder ?
    \end{exercice}
    \begin{corrige}
      Comme \class{beamer} est une classe, la seule solution est
      d'utiliser l'extension \package{sesacah.sty}.
    \end{corrige}
  \end{multicols}
\end{autoeval}

\cours
\section{Utilisation de la classe}
Pour utiliser la classe dans le but de produire une page (ou peu de
pages), il existe un pseudo thème dit \og libre \fg{}. En fait, on ne
l'appelle même pas directement. Pour indiquer qu'on va utiliser la
classe de façon \og libre \fg{}, on indiquera la macro \cmd{libre} en
tout début de document.

Cette commande va considérablement simplifier la mise en page des
en-têtes (devenues inexistantes) et des pieds de page (réduits au seul
numéro de page).

La conséquence immédiate de cela est qu'il devient alors sans objet de
vouloir utiliser les commandes de partie générale d'un ouvrage
(thème, chapitre, partie dédiée aux activités d'approche, au cours,
aux exercices, aux QCM d'évaluation et aux TP). En revanche, on peut
quasiment utiliser tous les éléments internes de la classe.

Il existe quelques limitations dues à l'absence de cloisonnement de
parties générales. Ainsi, la commande \cmd{partie} peut exister à
plusieurs emplacements avec un traitement différents dans un ouvrage
classique. Ce comportement ne pourra plus exister puisque les
commandes modifiant le comportement de \cmd{partie} ne seront plus
utilisées.

Voici ce qu'il est possible de faire avec une utilisation \og libre
\fg{} de la classe :
\begingroup
\setlist{AE}
\begin{itemize}
\item écrire du texte de façon libre;
\item composer un environnement \environ{debat} ou \environ{activite};
\item utiliser la commande \cmd{section} (non numérotées);
\item utiliser les environnements de type \environ{definition},
  \environ{notation}, \environ{methode} (avec la liste des méthodes si
  on le souhaite en appelant la commande \cmd{AfficheListeMethodes});
\item utiliser la commande \cmd{recreation} (mais par la commande
  \cmd{Recreation} qui modifie les en-têtes);
\item les QCM d'auto-évaluation;
\item les TP ;
\item les exercices (et le mécanisme des corrections);
\item le lexique.
\end{itemize}
\endgroup

Tout ce qui a été dit dans le chapitre précédent s'applique. On notera
juste l'introduction de quelques paramètres propres à la partie \og
libre \fg{}.

\begingroup
\renewcommand*\colorlet[2]{%
  #1 & #2 &
}%
\newcommand*\titre[1]{\multicolumn{3}{c}{\textbf{#1}}}
\centering
\begin{longtable}{@{}llp{8cm}@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \endlastfoot
  \titre{Couleurs dans la partie libre} \\\hline
  \colorlet{LibrePartieColor}{A1}
  Couleur des titres de partie \cmd{algo} \\
\end{longtable}
\endgroup

Les autres couleurs sont gérées par la commande \cmd{ChangeLibre} qui
a exactement la même syntaxe et la même signification que la commande
\cmd{ChangeAnnexe}.

Il y a une certaine homogénéité dans le choix des couleurs à
l'intérieur d'une partie libre. Il est possible, comme d'habitude, de
modifier les couleurs de façon individuelle mais, pour assurer cette
homogénéité la classe fournit la commande \cmd{ChangeLibre} qui
demande quatre arguments qui seront les couleurs utilisées dans
la partie libre. Le premier argument correspond à la couleur du
bandeau de marge mais dans la partie libre, il n'y a pas de tel
bandeau. On garde ce premier argument pour une éventuelle modification
future mais pour l'instant, il ne sert à rien. Le deuxième argument
est une couleur partagée par plusieurs éléments :
\begingroup
\setlist{AE}
\begin{itemize}
\item \key{LibreSectionRuleColor}
\item \key{LibreItemColor}
\item \key{LibreExerciceCorrigeNumFrameColor}
\item \key{LibreExerciceNumFrameColor}
\end{itemize}
Le troisième argument est également une couleur partagée par plusieurs
éléments :
\begin{itemize}
\item \key{LibreSectionTitleColor}
\item \key{LibreExerciceTitleColor}
\end{itemize}
\endgroup
Enfin, le quatrième et dernier argument est la couleur des numéros
d'exercices. Par défaut la classe appelle cette macro de cette façon,
c'est-à-dire exactement comme pour les annexes :
\begin{verbatim}
\ChangeLibre{G3}{A1}{G1}{Blanc}
\end{verbatim}

On a également quelques définitions de longueurs :

\begingroup
\newcommand*\longueur[2]{%
  \cmd{#1} & \texttt{#2}
}%
\newcommand*\titre[1]{\multicolumn{2}{c}{\textbf{#1}}}
\centering
\begin{longtable}{@{}ll@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \endlastfoot
  \titre{Longueurs dans la partie libre} \\\hline
  \longueur{LibreSectionRuleWidth}{\cmd{SquareWidth}}\\
  \longueur{LibreSectionRuleHSpace}{1mm}\\
  \longueur{BeforeLibreSectionVSpace}{5mm}\\
  \longueur{AfterLibreSectionVSpace}{2mm}\\
  \longueur{BeforeLibrePartieVSpace}{1.5mm}\\
  \longueur{AfterLibrePartieVSpace}{1mm}
\end{longtable}
\endgroup

Enfin, quelques définitions de fontes :

\begingroup
\newcommand*\fonte[2]{%
  \cmd{#1} & \texttt{#2}
}%
\newcommand*\taille[2]{%
  \cmd{fontsize\{#1\}\{#2\}}%
}
\newcommand*\titre[1]{\multicolumn{2}{c}{\textbf{#1}}}
\centering
\begin{longtable}{@{}ll@{}}
  \hline
  \endfirsthead
  \\\hline
  \endhead
  \\
  \endlastfoot
  \titre{Fontes dans la partie libre}\\\hline
  \fonte{FootLibrePageFont}{\taille{11}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{LibreSectionTitleFont}{\taille{14.4}{14.4}\cmd{sffamily}\cmd{bfseries}}\\
  \fonte{LibrePartieFont}{\taille{10.5}{14.4}\cmd{bfseries}}\\
\end{longtable}
\endgroup

\section{Extension \package{sesamanuel}}
L'extension \package{sesamanuel} est destinée à être utilisée lorsqu'il
est obligatoire d'utiliser une autre classe que \class{sesamanuel}. Un
exemple typique est celui où on compose un diaporama avec la classe
\class{beamer}.

L'extension définit un certain nombre d'éléments et de syntaxe qui
sont définis dans la classe mais un grand nombre de mécanismes sont
évidemment abandonnés. Tout ce qu'on trouve ici est également
utilisable avec une utilisation \og libre \fg{} de la classe (voir
ci-dessus).

Avec l'extension, on a accès à:
\begingroup
\setlist{AE}
\begin{itemize}
\item les tableaux:
\item les algorithmes;
\item les unités;
\item les macros \cmd{TopStrut} et \cmd{BotStrut};
\item les listes.
\end{itemize}
\endgroup

Tous ces éléments sont présentés plus en détails dans le chapitre
suivant.

Pour les listes, comme la classe prévoyait un grand nombre de
possibilités, on les retrouve dans l'extension grâce à la macro
\cmd{setlist}. Celle-ci demande un argument qui indique le type de
partie donc l'aspect des différentes listes (voir la première section
du chapitre suivant). On trouve:
\begingroup
\setlist{AE}
\begin{itemize}
\item \cmd{setlist\{prerequis\}};
\item \cmd{setlist\{AE\}} pour les listes d'auto-évaluation;
\item \cmd{setlist\{exapp\}} pour les listes des exercices
  d'application;
\item \cmd{setlist\{def\}} pour les listes des environnements de type
  définition;
\item \cmd{setlist\{activite\}} ;
\item \cmd{setlist\{rem\}} pour les listes des environnements de type
  remarque;
\item \cmd{setlist\{exemple\}};
\item \cmd{setlist\{proof\}};
\item \cmd{setlist\{exercice\}} pour les listes des exercices
  d'entraînement et d'approfondissement;
\item \cmd{setlist\{acquis\}} pour les listes dans \og Je vérifie mes
  acquis \fg{};
\item \cmd{setlist\{commentaire\}};
\item \cmd{setlist\{recreation\}};
\item \cmd{setlist\{annexe\}};
\item \cmd{setlist\{lexique\}}.
\end{itemize}
\endgroup
L'utilisation des listes dans une classe générale requiert quelques
précautions.

En premier lieu il est obligatoire de spécifier un des types de liste
précédents avec la macro \cmd{setlist}.

Les environnements \environ{colenumerate} et \environ{colitemize} se
servent de la macro \cmd{item} pour analyser le contenu d'une liste
afin de le découper en différents blocs. Si vous emboîtez des listes
dans ce type de liste, il va falloir protéger la liste intérieur en la
plaçant intégralement dans un groupe.

Enfin, il est fortement préférable de travailler avec des documents
sans retrait d'alinéa sinon le rendu risque d'être assez bizarre.

Voici un code qui tient compte de tous ces éléments :
\begin{verbatim}
\setlength{\parindent}{0pt}
\setlist{recreation}
\begin{colenumerate}
\item Le premier point est simple.
\item Le deuxième point contient une liste (protégée) :
  {
    \begin{enumerate}
    \item avec un premier sous-point
    \item et un deuxième.
    \end{enumerate}
  }
\item Le troisième point est simple
\end{colenumerate}
\end{verbatim}

\chapter{Détails\\ typographiques}\label{chDetails}
\label{chap-details-typographiques}
\begin{prerequis}[Constructions offertes par la classe]
  Dans ce chapitre, nous allons présenter les éléments qui existent
  pour toutes les parties du manuel ou, du moins, pour plusieurs
  parties du manuel. On découpera la présentation en :
  \begin{itemize}
  \item Listes

    Il s'agit des listes traditionnelles \environ{itemize} et
    \environ{enumerate} avec leurs différentes déclinaisons selon
    l'endroit où elles sont appelées.
  \item Cadres et tableaux

    La classe offre un certain nombre de constructions automatiques
    de tableaux ainsi que des cadres variés.
  \item Divers

    On placera dans cette dernière section tout ce qui ne relève pas
    des deux sections précédentes. Cela fera donc un peu fourre-tout.
  \end{itemize}
\end{prerequis}

\begin{autoeval}
  \begin{multicols}{2}
    \begin{exercice}
      Essayez de placer des environnements \environ{itemize} ou
      \environ{enumerate} dans plusieurs endroits du document et
      regardez le rapport de compilation.
    \end{exercice}
    \begin{corrige}
      Normalement, on a une erreur de compilation. On peut alors lire
      le rapport de compilation ou lire la section qui suit pour
      comprendre ce qui s'est passé.
    \end{corrige}
    \begin{exercice}
      Comment faire pour commencer la partie cours en première page
      d'un chapitre ?
    \end{exercice}
    \begin{corrige}
      On ne peut pas.
    \end{corrige}
    \vfill\columnbreak
    \begin{exercice}
      Comment procéder pour réaliser un manuel de physique à la place
      d'un manuel de mathématique?
    \end{exercice}
    \begin{corrige}
      La possibilité de modifier le comportement de la classe, en
      particulier les textes fixes, devrait permettre de faire une
      sorte de sesaphysique à la place d'un sesamath.
    \end{corrige}
  \end{multicols}
\end{autoeval}

\cours
\section{Listes}
\label{sec-listes}
La classe redéfinit les listes standards \environ{itemize} et
\environ{enumerate}. Elle ne redéfinit pas la liste
\environ{description} puisque la maquette initiale ne s'en servait
jamais. Elle créé également d'autres listes, à savoir
\environ{colitemize}, \environ{colenumerate} et
\environ{bigenumerate}.

Les environnements \environ{colitemize} et \environ{colenumerate}
permettent de présenter les résultats en colonnes. Le principe est de
spécifier le nombre de colonnes voulues en paramètre. Les entrées des
listes se feront alors en remplissant les colonnes d'abord et en les
équilibrant au maximum. Voici un exemple. Le source
\begin{verbatim}
\begin{colenumerate}{3}
\item item
\item item
\item item un peu plus long pour faire plus d'une ligne
\item item un peu plus long pour faire plus d'une ligne
\item item
\end{colenumerate}
\end{verbatim}
donne le résultat :
\begingroup
\setlist{AE}%
\begin{colenumerate}{3}
\item item
\item item
\item item un peu plus long pour faire plus d'une ligne
\item item un peu plus long pour faire plus d'une ligne
\item item
\end{colenumerate}
\endgroup

\strut On aura un résultat similaire pour les listes
\environ{itemize}.

La liste \environ{bigenumerate} résulte d'une discussion lors de
l'élaboration de la maquette. L'exemple précédent montre que les
numéros d'une liste \environ{enumerate} ou \environ{colenumerate} sont
très proches du texte de l'item. Si le numéro vient à s'écrire sur
deux chiffres, soit il télescope le texte, soit il chasse dans la
marge, soit le texte de l'entrée n'est plus aligné avec celui des
autres entrées. C'est cette dernière option qui a été choisie mais
avec la possibilité d'avoir une liste permettant quand même
l'alignement en augmentant la distance entre numéro et texte. Voici un
exemple (idiot puisque \environ{bigenumerate} ne sert qu'à partir de
10 entrées). Le source :
\begin{verbatim}
\begin{enumerate}
\item item
\item item
\end{enumerate}
\begin{bigenumerate}
\item item éloigné
\item item éloigné
\end{bigenumerate}
\end{verbatim}
donne le résultat :
\begingroup
\setlist{AE}%
\begin{enumerate}
\item item
\item item
\end{enumerate}
\begin{bigenumerate}
\item item éloigné
\item item éloigné
\end{bigenumerate}
\endgroup
La classe prévoit deux niveaux de liste. On peut en faire plus mais
l'aspect restera celui du deuxième niveau d'emboîtement. Pour les
liste \environ{itemize}, cela ne se traduira que pas un retrait
différent. Pour les listes \environ{enumerate}, on aura une
présentation différentes des numéros. Voici un exemple :
\begin{verbatim}
\begin{enumerate}
\item item
\item item
  \begin{enumerate}
  \item item emboîté
  \item item emboîté
  \end{enumerate}
\item item
\end{enumerate}
\end{verbatim}
qui donne :
\begingroup
\setlist{AE}%
\begin{enumerate}
\item item
\item item
  \begin{enumerate}
  \item item emboîté
  \item item emboîté
  \end{enumerate}
\item item
\end{enumerate}
\endgroup

\label{liste-debut-listes}
En réalité la façon dont sont composées les listes dépend de
l'emplacement où elles sont appelées. Les exemples ci-dessus ont été
construits avec les listes utilisées dans l'auto-évaluation (bas de la
première page d'un chapitre). On va montrer toutes les possibilités
avec le source :
\begin{verbatim}
\begin{itemize}
\item test itemize
\end{itemize}
\begin{enumerate}
\item niveau 1
  \begin{enumerate}
  \item niveau 2
  \end{enumerate}
\end{enumerate}
\end{verbatim}

\testliste{prerequis}{le cadre bleu des prérequis}
\testliste{AE}{les QCM d'auto-évaluation}
\testliste{activite}{les activités et débats}
\testliste{def}{les environnements de type définition}
\testliste{rem}{les environnements de type remarque}
\testliste{proof}{les environnements de type preuve}
\testliste{exemple}{les exemples}
\testliste{exapp}{les méthodes}
\testliste{commentaire}{les commentaires}
\testliste{exercice}{les exercices}
\testliste{acquis}{les questions de je teste mes connaissances}
\testliste{recreation}{les recréations et énigmes}
\testliste[0pt]{corrAE}{les correction des QCM d'auto-évaluation}
\testliste[0pt]{correxercice}{les corrections d'exercices}
\testliste[0pt]{corrrecreation}{les corrections des récréations}
\testliste{annexe}{les annexes générales}
\testliste{lexique}{le lexique}

\label{liste-fin-listes}
L'utilisation de ces listes en d'autres emplacements du document
provoquera une erreur de compilation. Ainsi, on ne pourra pas utiliser
ces listes :
\begingroup
\setlist{AE}
\begin{itemize}
\item dans les pages activités (en dehors des activités et débats
  proprement dits) ;
\item dans les pages cours (en dehors de certains environnements) ;
\item dans les QCM de je teste mes connaissances ;
\item dans les corrections d'activités ;
\item dans les corrections des je teste mes connaissances.
\end{itemize}
\endgroup

\section{Cadres et tableaux}
\subsection{Cadres}
Il y a plusieurs cadres qui sont définies par la classe mais
\emph{via} des macros privées. L'utilisateur ne peut donc normalement
pas s'en servir.
\begin{cadre}
  Si on excepte les cadres vus au chapitre précédent qui devaient être
  placés à des endroits particuliers du manuel, on trouve une commande
  particulière permettant de composer un cadre avec un biseau
  inférieur droit.
\end{cadre}
Ce type de cadre est réalisé grâce à l'environnement
\environ{cadre}. Cet environnement accepte deux arguments optionnels
indiquant la couleur du cadre et la couleur de fond. Par défaut, ce
sera respectivement la couleur \key{CadreLineColor} et la couleur
\key{CadreBkgColor}. La largeur des lignes est indiquée avec la macro
\cmd{CadreLineWidth} et la séparation entre texte et cadre est
indiquée avec la macro \cmd{CadreSep}. Par exemple, le code :
\begin{verbatim}
\renewcommand*\CadreSep{1pt}
\renewcommand*\CadreLineWidth{2pt}
\begin{cadre}[B2][F4]
  Du texte, du texte, du texte, du texte...
\end{cadre}
\end{verbatim}
donne le résultat
\begingroup
\renewcommand*\CadreSep{1pt}
\renewcommand*\CadreLineWidth{2pt}
\begin{cadre}[B2][F4]
  Du texte, du texte, du texte, du texte, du texte, du texte, du
  texte, du texte, du texte, du texte, du texte, du texte, du texte,
  du texte, du texte, du texte, du texte, du texte, du texte, du
  texte, du texte, du texte, du texte et du texte.
\end{cadre}
\endgroup
Cet exemple montre qu'à cause du biseau, il ne faut pas demander une
séparation trop faible entre texte et cadre.

\subsection{Algorithmes}
La classe propose une façon de composer des algorithmes. En réalité,
la maquette ayant changé en cours de route, il y a deux
environnements permettant de composer les algorithmes. Le plus ancien
s'appelle \environ{oldalgorithme}. Le principe est que l'intérieur de
cet environnement sera écrit verbatim dans un cadre avec des numéros
de ligne. Par exemple le code :
\begin{verbatim}
\begin{oldalgorithme}
Pour x dans 1..n
  Pour y dans 1..n
    M[x,y]=x+y
  Fin Pour
Fin Pour
\end{oldalgorithme}
\end{verbatim}
donnera le résultat :
\begin{oldalgorithme}
Pour x dans 1..n
  Pour y dans 1..n
    M[x,y]=x+y
  Fin Pour
Fin Pour
\end{oldalgorithme}
En réalité, cet environnement n'est pas véritablement un environnement
verbatim. Il l'est en ce qui concerne le traitement des sauts de
ligne et des espaces mais pas en ce qui concerne les caractères
spéciaux. Par exemple, le caractère \cmd{} garde son statut de
caractère d'échappement habituel. Par exemple, le source
\begin{verbatim}
\begin{oldalgorithme}
Pour x dans 1..n //\textit{entrée de boucle}
  Pour y dans 1..n
    M[x,y]=\textcolor{B2}{x+y}
  Fin Pour
Fin Pour
\end{oldalgorithme}
\end{verbatim}
donnera le résultat
\begin{oldalgorithme}
Pour x dans 1..n //\textit{entrée de boucle}
  Pour y dans 1..n
    M[x,y]=\textcolor{B2}{x+y}
  Fin Pour
Fin Pour
\end{oldalgorithme}

La classe propose un autre environnement pour réaliser des algorithmes
qui ne suit pas du tout le même principe que celui
ci-dessus. L'environnement \environ{algorithme} permet de présenter
des algorithmes dans un cadre en utilisant des commandes dédiées qui
se chargeront automatiquement du retrait des lignes. Les commandes
utilisables sont :
\begin{center}
  \begin{tabularx}{\linewidth}{>{\cmd{}\ttfamily}lX}
    \hline
    \multicolumn{1}{c}{\textbf{Commande}} &
    \multicolumn{1}{c}{\textbf{Signification}} \\\hline
    BlocVariables &
    Affiche \og Liste des variables utilis\'ees \fg\\
    BlocEntrees &
    Affiche \og Entrées \fg\\
    BlocTraitements &
    Affiche \og Traitements \fg\\
    BlocAffichage &
    Affiche \og Affichage \fg\\
    BlocTraitementsEtAffichage &
    Affiche \og Traitements et affichage \fg\\
    DeclareVar &
    Demande 3 paramètres qui sont la variable, son type et un commentaire\\
    TantQue &
    Demande 2 paramètres qui sont la condition de boucle et le corps
    de boucle\\
    Pour &
    Demande 4 paramètres qui sont la variable de boucle, la valeur
    initiale, la valeure finale et le corps de boucle\\
    PourAvecPas &
    Demande 5 paramètres qui sont la variable de boucle, la valeur
    initiale, la valeure finale, le pas et le corps de boucle\\
    SiAlors &
    Demande 2 paramètres qui sont la condition et la partie vraie\\
    SiAlorsSinon &
    Demande 3 paramètres qui sont la condition, la partie vraie et la
    partie fausse\\
    AfficherVar &
    Demande 1 paramètre qui est la variable\\
    Afficher &
    Demande 1 paramètre qui est ce qu'il faut afficher\\
    Calculer &
    Demande 1 paramètre qui est le calcul\\
    Demander &
    Demande 1 paramètre qui est la demande\\
    Saisir &
    Demande 1 paramètre qui est ce qui doit être saisi\\
    Stocker &
    Demande 1 paramètre qui est la variable dans laquelle on stocke\\
    DonnerValeur &
    Demande 2 paramètres qui sont le nom d'une variable et la valeur à
    stocker\\
    TitreAlgo &
    Demande 1 paramètre qui est le titre de l'algorithme\\
    FinAlgo &
    Affiche \og Fin de l'algorithme \fg\\\hline
  \end{tabularx}
\end{center}
Chaque instruction gère elle-même l'indentation, les fontes et les
couleurs utilisées. Le tableau~\ref{tab-couleurs}
pages~\pageref{tab-debut-couleur}-\pageref{tab-couleurs} indique les noms de
couleurs utilisées pour les algorithmes (ce sont les noms qui
commencent par \key{CouleurAlgo}. En fait, toutes ces couleurs sont
noires mais la classe permet une coloration syntaxique automatique
personnalisée.

Voici un exemple d'algorithme pour mieux comprendre le fonctionnement
de l'indentation automatique. Celui-ci est sous le contrôle de la
macro \cmd{AlgoIndent} qui vaut \key{1em} par défaut. Le code
\begin{verbatim}
\begin{algorithme}
  \TitreAlgo{Euclide}
  \BlocVariables
  \DeclareVar{a}{entier}{1\ier{} nombre}
  \DeclareVar{b}{entier}{2\ieme{} nombre}
  \DeclareVar{r}{entier}{reste}
  \BlocEntrees
  \Demander{a}
  \Demander{b}
  \BlocTraitements
  \Calculer{r = reste de a/b}
  \TantQue{r $\neq$ 0}{%
    \DonnerValeur{a}{b}
    \DonnerValeur{b}{r}
    \Calculer{r = reste de a/b}
  }
  \Afficher{"PGCD = "}
  \AfficherVar{b}
  \FinAlgo
\end{algorithme}
\end{verbatim}
donne le résultat :
\begin{algorithme}
  \TitreAlgo{Euclide}
  \BlocVariables
  \DeclareVar{a}{entier}{1\ier{} nombre}
  \DeclareVar{b}{entier}{2\ieme{} nombre}
  \DeclareVar{r}{entier}{reste}
  \BlocEntrees
  \Demander{a}
  \Demander{b}
  \BlocTraitements
  \Calculer{r = reste de a/b}
  \TantQue{r $\neq$ 0}{%
    \DonnerValeur{a}{b}
    \DonnerValeur{b}{r}
    \Calculer{r = reste de a/b}
  }
  \Afficher{"PGCD = "}
  \AfficherVar{b}
  \FinAlgo
\end{algorithme}

\subsection{Sudokus}
La classe a une commande très particulière qui permet de composer
des sudokus. Il s'agit de la commande \cmd{sudoku}. Cette commande
accepte un argument optionnel qui indique la largeur d'une case
(\key{SudokuWidth} par défaut, c'est-à-dire \umm{5}) et un argument
obligatoire qui indique le contenu de la grille de sudoku.

Une grille de sudoku est un tableau $9\times9$ et on va donc
donner $9\times9$ indications de remplissage. Un point représente une
case vide blanche, une étoile représente une case vide colorée (avec
la couleur \key{FondSudokuColor}) et toute autre matériel indique ce
qu'il faut placer dans la case (en général des chiffres).

En réalité, la commande est assez permissive. S'il y a moins de 81
renseignements, la fin de la grille sera remplie avec des cases vides.
S'il y a plus de 81 renseignements, les indications après la 81\ieme{}
seront ignorées. Les espaces et les sauts de ligne ne comptent pas ce
qui permet de noter les grilles de façon lisible pour l'humain.

Le code
\begin{verbatim}
\begin{center}
  \sudoku{}
  \hspace{2cm}%
  \sudoku{%
    1.234..5.
    .........
    5..67.8..
    6..5.2..8
    23..*..61
    9..1.7..4
    ..4.16..3
    .........
    .2..897.5
  }
\end{center}
\end{verbatim}
donne le résultat :
\begin{center}
  \sudoku{}
  \hspace{2cm}%
  \sudoku{%
    1.234..5.
    .........
    5..67.8..
    6..5.2..8
    23..*..61
    9..1.7..4
    ..4.16..3
    .........
    .2..897.5
  }
\end{center}

\subsection{Tableaux}
\label{sec-tableaux}
La classe permet d'utiliser toutes les commandes et environnements
standards liés aux tableaux. Elle charge même les extensions
\package{longtable} donc \package{array}, \package{tabularx},
\package{multirow} et l'extension \package{xcolor} avec son option
\key{table}.

Cependant, pour assurer une cohérence dans le traitement des tableaux,
la classe propose une série d'environnements permettant de présenter
des tableaux sous des formes particulières.

Les environnements s'appellent \environ{<type>tableau}. À l'intérieur
de cet environnement, la couleur des filets sera grise. Le type
\key{X} de l'environnement \environ{tabularx} est redéfini pour donner
une entrée centrée à la fois verticalement et horizontalement. Le
\key{<type>} est une ou deux lettres indiquant le type du tableau, on
a les possibilités suivantes :
\begin{center}
  \begin{tabularx}{\linewidth}{>{\ttfamily}lX}
    \hline
    \multicolumn{1}{c}{\textbf{<type>}} &
    \multicolumn{1}{c}{\textbf{Signification}}
    \\\hline
    t & C'est l'environnement le plus simple. Il demande deux
    arguments qui sont la largeur du tableau et le nombre de
    colonnes. Toutes les colonnes seront du type \key{X}
    \\
    c & Même chose que ci-dessus mais la première colonne sera en
    couleur.
    \\
    l & Même chose que ci-dessus mais c'est la première ligne qui sera
    en couleur.
    \\
    cl & Toujours la même chose. C'est la première ligne et la
    première colonne qui seront en couleur.
    \\
    T, C, L \textrm{et} CL & Les types en capitale correspondent au
    type en minuscule. Il demande un argument supplémentaire qui est le
    type de la première colonne.
    \\
    pr & Il s'agit d'un type de tableau très particulier qui ne sert,
    normalement, que pour la liste des propriétés (voir
    page~\ref{sec-proprietes})
    \\\hline
  \end{tabularx}
\end{center}
Voici un exemple avec le type \key{C}. Le source
\begin{verbatim}
\begin{center}
  \renewcommand*\tabularxcolumn[1]{>{\centering\arraybackslash}m{#1}}
  \begin{Ctableau}{0.7\linewidth}{7}{c}
    \hline
    Hauteur en dm & 0,5 & 1 & 1,5 & 2 & 2,5 & 3 \\\hline
    Volumes en litres & & & & & & \\\hline
  \end{Ctableau}
\end{center}
\end{verbatim}
va donner le résultat :
\begin{center}
  \renewcommand*\tabularxcolumn[1]{>{\centering\arraybackslash}m{#1}}
  \begin{Ctableau}{0.7\linewidth}{7}{c}
    \hline
    Hauteur en dm & 0,5 & 1 & 1,5 & 2 & 2,5 & 3 \\\hline
    Volumes en litres & & & & & & \\\hline
  \end{Ctableau}
\end{center}
Dans l'exemple, on a redéfini la macro \cmd{tabularxcolumn} afin
d'obtenir des entrées centrées.

Lorsqu'on compose un tableau avec un des types \key{c}, \key{l},
\key{cl} et les types en capitale correspondants, on utilise la
couleur \key{FondTableaux}. La couleur des filets est
\key{FiletTableauColor}

\section{Divers}
Dans cette section, on va présenter des détails typographiques définis
par la classe. On ne parlera pas de tous les détails typographiques
définis par les extensions appelées par la classe en renvoyant à la
documentation de ces extensions (liste page~\pageref{tab-extensions}).

\subsection{Empagement}
Dans un ouvrage \Logosesa{}, l'empagement peut être modifié dans
certaines circonstances (à l'intérieur des activités ou débats, dans
les travaux pratiques).

Normalement, l'utilisateur n'a pas à régler lui-même ces problèmes
d'empagement. Cela dit, la classe laisse quand même la possibilité de
le faire en fournissant l'environnement
\environ{changemargin}. Celle-ci est utilisé en interne pour certaines
présentation où l'empagement est réduit. Si l'augmentation de marge à
gauche dépend des circonstances, l'augmentation de la marge droite est
toujours égale à \cmd{ExtraMarginRight}.

Lorsque l'empagement est réduit, il peut alors arriver qu'on veuille
remettre l'empagement jusqu'à la marge droite habituelle. Pour cela,
on utilise l'environnement \environ{debordedroite}. Par exemple, le
code :
\begin{verbatim}
\begin{changemargin}{1.5cm}{\ExtraMarginRight}
  Exemple de texte avec une modification d'empagement...
  \begin{debordedroite}
    Exemple de texte avec une marge droite habituelle...
  \end{debordedroite}
  Exemple de texte avec une modification d'empagement...
\end{changemargin}
\end{verbatim}
donnera le résultat suivant :
\begin{changemargin}{1.5cm}{\ExtraMarginRight}
  Exemple de texte avec une modification d'empagement. Exemple de
  texte avec une modification d'empagement. Exemple de texte avec une
  modification d'empagement. Exemple de texte avec une modification
  d'empagement. Exemple de texte avec une modification d'empagement.
  \begin{debordedroite}
    Exemple de texte avec une marge droite habituelle. Exemple de
    texte avec une marge droite habituelle. Exemple de texte avec une
    marge droite habituelle. Exemple de texte avec une marge droite
    habituelle. Exemple de texte avec une marge droite habituelle.
  \end{debordedroite}
  Exemple de texte avec une modification d'empagement. Exemple de
  texte avec une modification d'empagement. Exemple de texte avec une
  modification d'empagement. Exemple de texte avec une modification
  d'empagement. Exemple de texte avec une modification d'empagement.
\end{changemargin}

Un autre commande permettant de jouer ponctuellement avec l'empagement
est celle qui permet d'habiller une image avec du texte. Dans les
ouvrages \Logosesa{}, les images sont toujours utilisées dans les
passages à marge augmentée. Lorsqu'une image est insérée, et si sa
largeur le permet, elle débordera pour aller jusqu'à la marge de
droite habituelle. Voici un exemple où on va inclure les deux cas de
figure possibles (images plus large ou moins large que
\cmd{ExtraMarginRight}) :
\begin{verbatim}
\begin{changemargin}{1.5cm}{\ExtraMarginRight}
  \setkeys{Gin}{keepaspectratio=false, height=2cm}
  \habillage{\fbox{\includegraphics[width=1cm]{tiger.eps}}} Dans ce premier...

  \habillage{\fbox{\includegraphics[width=4cm]{tiger.eps}}} Dans ce second...
\end{changemargin}
\end{verbatim}
qui donne le résultat :

\begin{changemargin}{1.5cm}{\ExtraMarginRight}
%  \setkeys{Gin}{keepaspectratio=false, height=2cm}%
 % \habillage{\fbox{\includegraphics[width=1cm]{tiger.eps}}} 
Dans ce
  premier exemple, l'image a une largeur inférieure à la marge
  supplémentaire \cmd{ExtraMarginRight}. Dans ces conditions, l'image
  déborde de sa largeur naturelle sans renfoncement dans le
  texte. Dans ce premier exemple, l'image a une largeur inférieure à
  la marge supplémentaire \cmd{ExtraMarginRight}. Dans ces conditions,
  l'image déborde de sa largeur naturelle sans renfoncement dans le
  texte.

 % \habillage{\fbox{\includegraphics[width=4cm]{tiger.eps}}} 
Dans ce second
  exemple, la largeur de l'image est maintenant supérieure à
  \cmd{ExtraMarginRight}. Dans ces conditions, la droite de l'image
  atteint exactement la marge droite habituelle et provoque un
  renfoncement du texte en vis à vis. Dans ce second exemple, la
  largeur de l'image est maitenant supérieure à
  \cmd{ExtraMarginRight}. Dans ces conditions, la droite de l'image
  atteint exactement la marge droite habituelle et provoque un
  renfoncement du texte en vis à vis.
\end{changemargin}

\subsection{Correction de hauteur}
Dans certaines circonstances il peut être utile de poser des éléments
invisibles ayant une certaine hauteur. Cela permet par exemple de
respecter un interlignage ou bien d'éviter que certains éléments se
télescopent (en particulier avec des formules mathématiques
complexes). \LaTeX propose la commande \cmd{strut} qui permet de poser
un élément ayant exactement la hauteur et la profondeur de
l'interlignage classique. La classe étend un peu cette commande en
proposant trois commandes: \cmd{Strut}, \cmd{TopStrut} et
\cmd{BotStrut}.

La commande \cmd{Strut} (avec une majuscule) fonctionne exactement
comme \cmd{strut} mais elle admet un argument optionnel qui est un
facteur d'agrandissement. Sa valeur par défaut est 1 ce qui donne donc
le comportement exact de \cmd{strut}. Par exemple, le code :
\begin{verbatim}
\begin{minipage}{0.5\linewidth}
  Il y a une différence fondamentale entre $\displaystyle\int_0^{+\infty} f(x)dx$
  et son équivalent dans le domaine discret qui est la somme infinie
  $\displaystyle\sum_{n=0}^{+\infty} f(n)$.

  Il y a une différence fondamentale entre $\displaystyle\int_0^{+\infty} f(x)dx$
  et son équivalent dans le domaine discret qui est la somme infinie
  \Strut[2]$\displaystyle\sum_{n=0}^{+\infty} f(n)$.
\end{minipage}
\end{verbatim}
donne le résultat :

\begin{minipage}{0.7\linewidth}
  Il y a une différence fondamentale entre $\displaystyle\int_0^{+\infty} f(x)dx$
  et son équivalent dans le domaine discret qui est la somme infinie
  $\displaystyle\sum_{n=0}^{+\infty} f(n)$.

  Il y a une différence fondamentale entre $\displaystyle\int_0^{+\infty} f(x)dx$
  et son équivalent dans le domaine discret qui est la somme infinie
  \Strut[2]$\displaystyle\sum_{n=0}^{+\infty} f(n)$.
\end{minipage}

Dans cet exemple, l'utilisation de \cmd{Strut} n'était peut-être pas
la meilleure chose à faire si le bas de la formule somme ne gênait
pas. Pour permettre une plus grande souplesse dans ce type
d'espacement, la classe offre donc les deux commandes supplémentaires
\cmd{TopStrut} et \cmd{BotStrut} qui fonctionnent strictement comme
\cmd{Strut}, qui donne exactement le même espacement vertical sauf que
\cmd{TopStrut} a une profondeur nulle et \cmd{BotStrut} une hauteur
nulle. Toujours pour rester dans l'exemple ci-dessus, il est possible
que \cmd{TopStrut} ait été un meilleur choix.

\subsection{Unités}
La classe offre un système souple pour écrire les nombres avec
unités. L'extension \package{siunitx} est bien plus puissante que ce
que propose la classe mais les fonctionnalités desservies par
\package{siunitx} et non proposées par la classe sont de peu d'intérêt
pour un ouvrage scientifique du secondaire et, en contre-partie, la
syntaxe proposée par la classe est bien plus souple.

L'idée générale est de composer un nombre avec unité en utilisant une
macro \cmd{uxxx} ou \cmd{Uxxx} où \texttt{xxx} dépend de l'unité
voulue. La différence entre la version minuscule et la version
majuscule est que celle en minuscule compose un nombre décimal (des
chiffres avec un éventuel séparateur décimal) tandis que la version
majuscule compose l'argument en mode mathématique. Cela permet de
pouvoir composer à la fois \Ucm{\sqrt{2}} et \ucm{1.4142}.

Ces deux derniers exemples ont été produits respectivement par
\verb+\Ucm{\sqrt{2}}+ et \verb+\ucm{1.4142}+. On peut voir que même si
le source du deuxième exemple comportait un point décimal, la sortie a
affiché une virgule. On peut également s'apercevoir que les chiffres
ont un séparateur des milliers (ici au niveau de la partie décimale.

Pour la version minuscule, l'argument est en fait composé en tant
qu'argument d'une commande \cmd{numprint} de l'extension
\package{numprint}. Toutes les possibilités de modification de
paramètre de \package{numprint} sont donc accessibles. Par exemple, si
on n'aime pas le séparateur décimal, on peut demander sa suppression
avec un appel à la commande \cmd{npthousandsep}. Par exemple :
\begin{verbatim}
\npthousandsep{}\ucm{1.4142}
\end{verbatim}
donne le résultat
\begingroup
\npthousandsep{}\ucm{1.4142}
\endgroup
sans l'espace fine de séparation des milliers. Pour plus de détails,
voir la documentation de l'extension \package{numprint}. La classe
offre une grande quantité de commandes pour afficher un nombre avec
une unité. Toutes ces commandes existent au format minuscule et
majuscule comme le \cmd{ucm} et \cmd{Ucm} ci-dessus. On trouve :
\newcommand\uu[1]{%
  \cmd{u#1\{1234\}} &
  \csname u#1\endcsname{1234}
}
\newcommand\uutitre[1]{%
  \multicolumn{6}{|c|}{\bfseries #1} \\*\hline
}
\newcommand\uusoustitre[1]{%
  \multicolumn{6}{|c|}{\hrulefill{} #1 \hrulefill} \\*
}
\begin{center}
  \begin{longtable}{*{3}{|l|l|}}
    \hline
    \uutitre{Macros d'unités}
    \endfirsthead
    \hline
    \uutitre{Macros d'unités (suite)}
    \endhead    
    \uusoustitre{Unités de longueur}
    \uu{ym} &
    \uu{zm} &
    \uu{am} \\*
    \uu{fm} &
    \uu{pm} &
    \uu{nm} \\*
    \uu{micron} &
    \uu{mm} &
    \uu{cm} \\*
    \uu{dm} &
    \uu{m}  &
    \uu{dam}\\*
    \uu{hm} &
    \uu{km} &
    \uu{Mm} \\*
    \uu{Gm} &
    \uu{Tm} &
    \uu{Pm} \\*
    \uu{Em} &
    \uu{Zm} &
    \uu{Ym} \\\hline
    \uusoustitre{Unités de surface}
    \uu{mmq} &
    \uu{cmq} &
    \uu{dmq} \\*
    \uu{mq}  &
    \uu{damq}&
    \uu{hmq} \\*
    \uu{kmq} &
    \uu{ha}  & & \\\hline
    \uusoustitre{Unités de volume}
    \uu{mmc} &
    \uu{cmc} &
    \uu{dmc} \\*
    \uu{mc}  &
    \uu{damc}&
    \uu{hmc} \\*
    \uu{kmc} &
    \uu{hl}  &
    \uu{dal} \\*
    \uu{l}   &
    \uu{dl}  &
    \uu{cl}  \\*
    \uu{ml}  &
    \uu{hel} &
    \uu{dael}\\*
    \uu{el}  &
    \uu{del} &
    \uu{cel} \\*
    \uu{mel} & & & & \\\hline
    \uusoustitre{Unités de temps}
    \uu{s}  &
    \uu{min}&
    \uu{h}  \\\hline
    \uusoustitre{Unités de vitesse et débit}
    \uu{ms}   &
    \uu{mh}   &
    \uu{kms}  \\*
    \uu{kmmin}&
    \uu{kmh}  &
    \uu{ls}   \\\hline
    \uusoustitre{Unités de masse}
    \uu{mg} &
    \uu{cg} &
    \uu{dg} \\*
    \uu{g}  &
    \uu{dag}&
    \uu{hg} \\*
    \uu{kg} & & & &\\\hline
    \uusoustitre{Unités diverses}
    \uu{pc}  &
    \uu{deg} &
    \uu{degc}\\*
    \uu{euro}& & & & \\\hline
  \end{longtable}
\end{center}

Si une unité semble manquer, on peut toujours en créer une autre avec
la commande \cmd{newunit}. Celle-ci demande deux arguments, le premier
étant le fin du nom de la commande et le deuxième la façon de composer
l'unité. Par exemple, la classe déclare \cmd{ucm} avec la syntaxe :
\begin{verbatim}
\newunit{cm}{\text{cm}}
\end{verbatim}
La commande \cmd{text} est nécessaire parce que l'argument est composé
en mode mathématique. Si on veut une commande pour exprimer une donnée
en newtons, il suffit donc de faire :
\begin{verbatim}
\newunit{N}{\text{N}}
\uN{9.81}
\end{verbatim}
qui donne :
\newunit{N}{\text{N}}
\uN{9.81}

De même, si l'aspect d'une unité n'est pas celui souhaité, on peut le
modifier en utilisant la commande \cmd{renewunit}. Celle-ci fonctionne
strictement comme \cmd{newunit}. Par exemple :
\begin{verbatim}
Avant \ukmh{5}.
\renewunit{kmh}{\text{km/h}}
Après \ukmh{5}.
\end{verbatim}
donne le résultat :
Avant \ukmh{5}.
\renewunit{kmh}{\text{km/h}}
Après \ukmh{5}.


\chapter{Extention \\sesamanuelTIKZ.sty}\label{chTIKZ}

\begin{prerequis}
\Logosesa{} ayant pour objectif de faciliter la diffusion libre de ses ressources, le code source du manuel \Logosesa{} 2\up{de} a été volontairement le plus neutre possible. 

Mais pour une homogénéité du rendu de la version imprimable, des commandes personnalisées ont dû être implémentées. 
\vfill\columnbreak

Vous avez pu voir, par exemple, les tableaux dans le chapitre précédent. 

\begin{itemize}
 \item Ce chapitre traite de l'homogénéisation des figures. 
\end{itemize}

\end{prerequis}

\begin{autoeval}
 \begin{exercice}
 Pourquoi avoir choisir de créer une extension à part de la classe?
 \end{exercice}
 \begin{corrige}
Les commandes spéciales TIKZ n'ont pas été incluses dans la classe pour permettre à l'utilisateur de rester libre de la mise en forme de ses figures. Le niveau d'exigence pour une impression en rotatives n'est pas nécessaire à tous.
 \end{corrige}

\begin{exercice}
 Pourquoi avoir choisi TIKZ et non pas PSTRIKS ?
\end{exercice}
\begin{corrige}
 Citons le vénérable Sage \og le meilleur logiciel est celui qu'on a l'habitude d'utiliser\fg{}... 
 
 Une grande majorité des auteurs du manuel \Logosesa{} 2\up{de} étant utilisateurs de TIKZ, le choix a donc été fait d'utiliser TIKZ pour le manuel même si cet échantillon n'est peut-être pas représentatif de la communauté mondiale des utilisateurs de \LaTeX.
\end{corrige}

\end{autoeval}

\cours
\begin{attention}
 Cette extention n'est nécessaire que pour utiliser des sources du manuel \Logosesa{} 2\up{de} qui contiennent des figures.
\end{attention}
\section{L'appel à TIKZ}
L'extention commence par appeler TIKZ et les librairies nécessaires.

\begin{verbatim}
\usepackage{tikz} % appel général
\usepackage{pgf} % appel général
\usepackage{tkz-tab} % extention pour les tableaux de variations
\usetikzlibrary{arrows} % librairie pour les flèches
\usetikzlibrary{patterns} % librairie pour les hachures et les pointillés
\end{verbatim}

\section{La feuille de style}
\begin{code} suivant crée la feuille de style du manuel (épaisseur et couleur des traits).
\begin{verbatim}
\tikzstyle{general}=[line width=0.3mm, >=stealth, x=1cm, y=1cm,line cap=round, line join=round]
\definecolor{CyanTikz40}{cmyk}{.4,0,0,0}
\definecolor{CyanTikz20}{cmyk}{.2,0,0,0}
\tikzstyle{quadrillage}=[line width=0.3mm, color=CyanTikz40]
\tikzstyle{quadrillageNIV2}=[line width=0.3mm, color=CyanTikz20]
\tikzstyle{quadrillage55}=[line width=0.3mm, color=CyanTikz40, xstep=0.5, ystep=0.5]
\tikzstyle{cote}=[line width=0.3mm, <->]
\tikzstyle{epais}=[line width=0.5mm, line cap=butt]
\tikzstyle{tres epais}=[line width=0.8mm, line cap=butt]
\tikzstyle{axe}=[line width=0.3mm, ->, color=Noir, line cap=rect]
\end{verbatim}
\end{code}

En détails: 

\begin{syntaxe}\begin{verbatim}                
\tikzstyle{general}=[line width=0.3mm, >=stealth, x=1cm, y=1cm,line cap=round, line join=round]
               \end{verbatim}

définit pour tous les graphiques, 

\begin{itemize}
 \item l'épaisseur des traits (ici \umm{0.3} correspondant à l'épaisseur minimum pour que les rotatives d'impression professionnelles fassent de la polychromie.)

\item la forme de flèches en bout de segments (ici \verb+stealth+ correspond à une flèche en forme d'aile d'avion)

\item l'unité choisie (ici le \ucm{} en abscisse et en ordonnée)

\item la forme des extrémités de segments (ici \verb+round+ correspond à une forme arrondie)
\item la forme des jonctions de segments (ici \verb+round+ correspond à une forme arrondie)
\end{itemize}
\end{syntaxe}

\vfill \clearpage
Ainsi, le code minimum pour une figure TIKZ sera :
\begin{verbatim}
 \begin{tikzpicture}[general]
  ...
 \end{tikzpicture}
\end{verbatim}

\begin{remarque}
 Le choix de l'unité en \ucm{} a été dicté pour faciliter les recherches des coordonnées des points lors de la construction des figures. La réduction ou l'agrandissement des figures se fait avec les options \environ{scale}, \environ{xscale} et \environ{yscale}
\end{remarque}

\begin{multicols}{2}
 \begin{code}
  
\begin{verbatim}
 \begin{tikzpicture}[general]
 \draw (0,0) circle (1);
 \end{tikzpicture}
 \begin{tikzpicture}[general, scale=1.5] 
 \draw (0,0) circle (1);
 \end{tikzpicture}
 \begin{tikzpicture}[general, xscale=1.3, yscale=0.6] 
 \draw (0,0) circle (1);
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \begin{result}
 
 \end{result}
 \begin{center}
\begin{tikzpicture}[general]
 \draw (0,0) circle (1);
 \end{tikzpicture}
 \hfill
 \begin{tikzpicture}[general, scale=1.5] 
 \draw (0,0) circle (1);
 \end{tikzpicture}
 
 \begin{tikzpicture}[general, xscale=1.3, yscale=0.6] 
 \draw (0,0) circle (1);
 \end{tikzpicture}
 \end{center}
\end{multicols}

\begin{syntaxe} Les commandes suivantes permettent de faire des quadrillages avec l'option \environ{grid}
 \begin{verbatim} 
\definecolor{CyanTikz40}{cmyk}{.4,0,0,0}
\definecolor{CyanTikz20}{cmyk}{.2,0,0,0}
\tikzstyle{quadrillage}=[line width=0.3mm, color=CyanTikz40]
\tikzstyle{quadrillageNIV2}=[line width=0.3mm, color=CyanTikz20]
\tikzstyle{quadrillage55}=[line width=0.3mm, color=CyanTikz40, xstep=0.5, ystep=0.5]
\end{verbatim}

L'épaisseur des traits ne pouvant être diminuer pour avoir deux niveaux de quadrillage, c'est la couleur du trait qui fait la différence. 
Le quadrillage de niveau 2 devra être fait avant le quadrillage simple pour que la couleur foncée recouvre la couleur claire. 
\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
  
\begin{verbatim}
 \begin{tikzpicture}[general]
 \draw[quadrillage] (0,0) grid (3,3);
 \end{tikzpicture}
 \begin{tikzpicture}[general] 
 \draw[quadrillageNIV2, step=0.2] (0,0) grid (3,3);
 \draw[quadrillage] (0,0) grid (3,3);
 \end{tikzpicture}
 \begin{tikzpicture}[general] 
 \draw[quadrillage55] (0,0) grid (3,3);
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
   \begin{tikzpicture}[general]
 \draw[quadrillage] (0,0) grid (3,3);
 \end{tikzpicture}
 \begin{tikzpicture}[general] 
 \draw[quadrillageNIV2, step=0.2] (0,0) grid (3,3);
 \draw[quadrillage] (0,0) grid (3,3);
 \end{tikzpicture}
 \begin{tikzpicture}[general] 
 \draw[quadrillage55] (0,0) grid (3,3);
 \end{tikzpicture}
 \end{center}
\end{multicols}

\begin{syntaxe} Les commandes suivantes donnent différents types de segments (épaisseur et extrémités). 

Lorsque l'épaisseur du trait est augmentée, la forme ronde de l'extrémité déborde. Les jonctions ne sont pas nettes. L'extrémité a donc été changée pour \environ{butt} (coupe un peu avant) ou \environ{rect} (coupe nette aux coordonnées). 

Les exemples ci-dessous sont donnés sur un quadrillage pour mieux apprécier la différence (le quadrillage est ou n'est pas recouvert). 
\begin{verbatim}
\tikzstyle{cote}=[line width=0.3mm, <->]
\tikzstyle{epais}=[line width=0.5mm, line cap=butt]
\tikzstyle{tres epais}=[line width=0.8mm, line cap=butt]
\tikzstyle{axe}=[line width=0.3mm, ->, color=Noir, line cap=rect]
\end{verbatim}
\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\draw[quadrillageNIV2] (0,0) grid (3,3);
 \draw[cote] (0,3)--(3,3);
 \draw[epais] (0,2)--(3,2);
 \draw[tres epais] (0,1)--(3,1);
 \draw[axe] (0,0)--(3,0);
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\draw[quadrillageNIV2] (0,0) grid (3,3);
 \draw[cote] (0,3)--(3,3);
 \draw[epais] (0,2)--(3,2);
 \draw[tres epais] (0,1)--(3,1);
 \draw[axe] (0,0)--(3,0);
 \end{tikzpicture}
 \end{center}
\end{multicols}

\section{Les commandes personnalisées}

\begin{syntaxe}
La commande suivante permet d'obtenir un quadrillage Seyes. Les arguments obligatoires sont les coordonnées du coin inférieur gauche et du coin supérieur droit. Les couleurs utilisées sont celles du nuancier de la classe. 
 
 \begin{verbatim}
\newcommand{\quadrillageSeyes}[2]{\draw[line width=0.3mm, color=A1!10, ystep=0.2, xstep=0.8]
#1 grid #2;
\draw[line width=0.3mm, color=A1!30, xstep=0.8, ystep=0.8] #1 grid #2; }
 \end{verbatim}
\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\quadrillageSeyes{(0,0)}{(4,4)}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\quadrillageSeyes{(0,0)}{(4,4)}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}
La commande suivante crée un axe des abscisses gradués pour un repère de type fonction. Les arguments obligatoires sont dans l'ordre: l'abscisse minimale, l'abscisse maximale, la liste des abscisses à graduer. Un argument optionnel permet de translater verticalement l'axe si les ordonnées ne commencent pas à 0.
 
 \begin{verbatim}
\newcommand{\axeX}[4][0]{\draw[axe] (#2,#1)--(#3,#1); \foreach \x in {#4} 
{\draw (\x,#1) node {\small $+$}; 
\draw (\x,#1) node[below] {\small $\x$};}} 
 \end{verbatim}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\axeX[2]{0}{3}{1, 2}
\axeX{0}{3}{1, 2}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\axeX[2]{0}{3}{1, 2}
\axeX{0}{3}{1, 2}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}
La commande suivante crée de même l'axe de ordonnées d'un repère de type fonction
 
 \begin{verbatim}
\newcommand{\axeY}[4][0]{\draw[axe] (#1,#2)--(#1,#3); \foreach \y in {#4} 
{\draw (#1, \y) node {\small $+$}; \draw (#1, \y) node[left] {\small $\y$};}}
 \end{verbatim}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\axeY[2]{0}{3}{1,2}
\axeY{0}{3}{1,2}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\axeY[2]{0}{3}{1,2}
\axeY{0}{3}{1,2} 
 \end{tikzpicture}
 \end{center}
\end{multicols}
Soit, ensemble
\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\axeY{0}{3}{1,2}
\axeX{0}{3}{1, 2}
\end{tikzpicture}
\begin{tikzpicture}[general]
\axeY{1}{4}{2,3} 
\axeX[2]{0}{3}{1,2}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\axeY{0}{3}{1,2}
\axeX{0}{3}{1, 2}
 \end{tikzpicture}
 \begin{tikzpicture}[general]
\axeY{1}{4}{2,3} 
\axeX[2]{0}{3}{1,2}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}
 La commande suivante crée un axe des abscisses pour un repère de géométrie avec $I$ pour repérer l'unité et sans graduation. Les arguments obligatoires sont dans l'ordre: l'abscisse minimale et l'abscisse maximale. Un argument optionnel permet de translater verticalement l'axe si les ordonnées ne commencent pas à 0.
 
 
 \begin{verbatim}
  \newcommand{\axeOI}[3][0]{\draw[axe] (#2,#1)--(#3,#1);  
  \draw (1,#1) node {\small $+$}; 
  \draw (1,#1) node[below] {\small $I$};}
 \end{verbatim}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\axeOI[2]{0}{3}
\axeOI{0}{3}
\end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}

 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\axeOI[2]{0}{3}
\axeOI{0}{3}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}
La commande suivante définit de même l'axe des ordonnées.
 
 \begin{verbatim}
 \newcommand{\axeOJ}[3][0]{\draw[axe] (#1,#2)--(#1,#3); 
 \draw (#1, 1) node {\small $+$}; 
 \draw (#1, 1) node[left] {\small $J$};}
 \end{verbatim}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\axeOJ[2]{0}{3}
\axeOJ{0}{3}
\end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\axeOJ[2]{0}{3}
\axeOJ{0}{3} 
 \end{tikzpicture}
 \end{center}
\end{multicols}


Soit, ensemble
\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\axeOI{-2}{3}
\axeOJ{0}{3}
\end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\axeOI{-2}{3}
\axeOJ{0}{3}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}
Les commandes suivantes permettent de rajouter des traits de graduation sur les axes crées avec les commandes \cmd{axeOI} et \cmd{axeOJ}. Un argument obligatoire : la liste des abscisses ou ordonnées. Un argument optionnel : la position de l'axe si autre que 0 (voir commande \cmd{axeX} ).
 
 \begin{verbatim}
\newcommand{\axeXgraduation}[2][0]{\foreach \x in {#2} {\draw (\x,#1) node {\small $+$};}}
\newcommand{\axeYgraduation}[2][0]{\foreach \y in {#2} {\draw (#1, \y) node {\small $+$}; }}
  \end{verbatim}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
 \draw[axe] (0,0)--(4,0);
 \axeXgraduation{1, 2, 3}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
 \axeOI{0}{4}
 \axeXgraduation{1, 2, 3}
 \axeOJ{0}{4}
 \axeYgraduation{1, 2, 3}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}
Les commandes suivantes permettent d'afficher l'origine dans les deux types de repères : $0$ pour les types fonction et $O$ pour les géométriques.

Attention, suivant le redimensionnement choisi, la position de l'origine peut empêcher de placer une abscisse et/ou une ordonnée $-1$. 
 
 \begin{verbatim}
\newcommand{\origine}{\draw (0,0) node[below left] {\small $0$};}
\newcommand{\origineO}{\draw (0,0) node[below left] {$O$};}
 \end{verbatim}
\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
 \begin{tikzpicture}[general]
\axeX{-1}{2}
\axeY{-1}{2}
\origine
 \end{tikzpicture}
\begin{tikzpicture}[general]
\axeOI{-1}{2}
\axeOJ{-1}{2}
\origineO
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
 \axeX{-1}{2}{1}
 \axeY{-1}{2}{1}
 \origine
 \end{tikzpicture}
 \begin{tikzpicture}[general]
\axeOI{-1}{2}
\axeOJ{-1}{2}
\origineO
 \end{tikzpicture}
 \end{center}
\end{multicols}

\clearpage
\begin{syntaxe}
Les commandes suivantes permettent de placer le nom d'un point à partir de ses coordonnées. 
\begin{itemize}
 \item la commande \cmd{point} donnera juste le nom du point
 \item la commande \cmd{pointGraphique} donnera le nom du point et repérera la point par une croix en forme de $+$
 \item la commande \cmd{pointFigure} donnera le nom du point et repérera la point par une croix en forme de $\times$
\end{itemize}

 
\begin{verbatim}
\newcommand{\point}[4]{\draw (#1,#2) node[#4] {$#3$};}
\newcommand{\pointGraphique}[4]{\draw (#1,#2) node[#4] {$#3$};
\draw (#1,#2) node {$+$};}
\newcommand{\pointFigure}[4]{\draw (#1,#2) node[#4] {$#3$};
\draw (#1,#2) node {$\times$};}
 \end{verbatim}

\`A chaque fois, quatre arguments obligatoires: 

\begin{itemize}
 \item abscisse du point
 \item ordonnée du point
 \item nom du point
 \item positionnement du nom par rapport au point, au choix : \environ{above} (dessus) \environ{below} (dessous) \environ{right} (droite) \environ{left} (gauche) (on peut combiner : \environ{below left} positionnement vertical suivi de l'horizontal)
\end{itemize}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
 \begin{tikzpicture}[general]
 \draw (0,0)--(1,0)--(0,1)--cycle; 
 \point{1}{0}{A}{right}
 \pointFigure{1}{1}{B}{above right}
 \end{tikzpicture}
 \begin{tikzpicture}[general]
 \draw[quadrillage55] (0,0)grid(2,2); 
 \pointGraphique{1.5}{0.5}{A}{below left}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
 \draw (0,0)--(1,0)--(0,1)--cycle; 
 \point{1}{0}{A}{right}
 \pointFigure{1}{1}{B}{above right}
 \end{tikzpicture}
 
 \begin{tikzpicture}[general]
 \draw[quadrillage55] (0,0)grid(2,2); 
 \pointGraphique{1.5}{0.5}{A}{below left}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\begin{syntaxe}Dans des figures complexes, on peut être amené à définir des points qui servent régulièrement avec la commande \cmd{coordinate}. 
Les commandes suivantes fonctionnent comme les précédentes mais les deux premiers arguments demandant l'abscisse et l'ordonnée du point sont remplacées par un argument unique qui est le code du point. Généralement, il s'agit aussi du nom du point
 
\begin{verbatim}
\newcommand{\pointC}[3]{\draw (#1) node[#3] {$#2$};}
\newcommand{\pointCGraphique}[3]{\draw (#1) node[#3] {$#2$};
\draw (#1) node {$+$};}
\newcommand{\pointCFigure}[3]{\draw (#1) node[#3] {$#2$};
\draw (#1) node {$\times$};}
 \end{verbatim}

\end{syntaxe}


\begin{multicols}{2}
 \begin{code}
\begin{verbatim}
\begin{tikzpicture}[general]
\coordinate (A) at (0,0);
\coordinate (B) at (1,0);
\coordinate (C) at (0,1);
\draw (A)--(B)--(C)--cycle;
\pointC{A}{A}{below left}
\pointC{C}{C}{above left}
\pointC{B}{B}{below right}
 \end{tikzpicture}
\end{verbatim}
 \end{code}
 \columnbreak
 \begin{result}
 
 \end{result}
 \begin{center}
 \begin{tikzpicture}[general]
\coordinate (A) at (0,0);
\coordinate (B) at (1,0);
\coordinate (C) at (0,1);
\draw (A)--(B)--(C)--cycle;
\pointC{A}{A}{below left}
\pointC{C}{C}{above left}
\pointC{B}{B}{below right}
 \end{tikzpicture}
 \end{center}
\end{multicols}
\AfficheCorriges
\end{document}
