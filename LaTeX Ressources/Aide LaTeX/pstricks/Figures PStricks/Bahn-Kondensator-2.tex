\listfiles
\documentclass{article}
\usepackage{amsmath,amssymb} % allows multiple maths-environments

\usepackage[dvips,dvipsnames]{xcolor} %% Farben sind im Dokument xcolor.pdf definiert
%\usepackage[distiller]{pstricks}
\usepackage{pst-slpe,pst-blur}
\usepackage{pst-node}
\usepackage{pst-plot}
%\usepackage{pst-math}
%\usepackage{pst-3dplot}
%\usepackage{pst-eucl}
\usepackage{pst-solides3d}
\usepackage{pstricks-add}


\begin{document}

\psset{viewpoint=40 -18 6,Decran=50,lightsrc=30 -15 25}
\begin{pspicture}[showgrid=false,solidmemory](-1.5,-3)(6.5,6)

%-------------------------------------------------------------------------------------------------
%------------------------------- Elektronenkanone ------------------------------------------------
%-------------------------------------------------------------------------------------------------

\psSolid[object=tronccone,r0=0.3,r1=0.08,h=0.4,fillcolor=cyan!70,mode=4,RotY=90,RotZ=90,ngrid=1 90, grid=false,opacity=0.15,solidmemory=true,action=none,name=Spitze](0,-3.2,0)%

\psSolid[object=anneau,fillcolor=green!80,h=0.02,R=0.28,r=0.06,RotY=90,RotZ=90,linecolor=green!80,ngrid=72,
grid=false,opacity=0.4,incolor=black,solidmemory=true,action=none,name=lochanode](0,-3.22,0)%

\psSolid[object=anneau,fillcolor=green!80,h=0.02,R=0.28,r=0.06,RotY=90,RotZ=90,linecolor=green!80,ngrid=72,
grid=false,opacity=0.3,incolor=black,solidmemory=true,action=none,name=wehneltdeckel](0,-3.6,0)%

\psSolid[object=cylindre,h=0.35,r=0.01,fillcolor=black,RotY=90,RotZ=-90,ngrid=2 72, grid=false,opacity=0.1,solidmemory=true,action=none,name=anschlusso](-0.08,-3.8,0.178)

\psSolid[object=cylindre,h=0.35,r=0.01,fillcolor=black,RotY=90,RotZ=-90,ngrid=2 72, grid=false,opacity=0.1,solidmemory=true,action=none,name=anschlussu](0.08,-3.8,-0.175)

\psSolid[object=cylindre,h=0.8,r=0.3,fillcolor=cyan!70,RotY=90,RotZ=90,ngrid=2 72, grid=false,opacity=0.1,solidmemory=true,action=none,name=zylout](0,-4,0)

\psSolid[object=anneau,fillcolor=green!80,h=0.36,R=0.28,r=0.27,RotY=90,RotZ=90,linecolor=green!80,ngrid=72,
grid=false,opacity=0.1,solidmemory=true,action=none,name=wehnelt](0,-3.8,0)%

{\defFunction[algebraic]{helice}(t){0.08*cos(80*t)}{0.08*sin(80*t)}{t}
\psSolid[object=courbe,r=0,range=0 0.35343,linecolor=red,linewidth=0.5pt,resolution=720,
function=helice,solidmemory=true,action=none,name=wendel,r=0.01,fillcolor=red,incolor=red,ngrid=60 60](0,-3.8,-0.175)}%

\psSolid[object=fusion,
base=wendel anschlusso anschlussu wehnelt wehneltdeckel lochanode zylout Spitze,% flugbahnx,
grid=false,opacity=0.15,name=ekanone,linecolor=red,action=draw**]

\composeSolid
%--------------------------------------------------------------------------------------------------

\psSolid[object=line,args=0 -3.212 0.28 0 -3.212 1,action=draw**]
\psSolid[object=line,args=0 -3.6 0.28 0 -3.6 1.4,action=draw**]
\psSolid[object=line,args=0 -3.8 0.26 0 -3.8 1.8,action=draw**]
\psSolid[object=line,args=-0.08 -4.15 0.178 0 -4.7 0.178 0 -4.7 -0.8,action=draw**]
\psSolid[object=line,args=0.08 -4.15 -0.175 0 -4.2 -0.175 0 -4.2 -1.5,action=draw**]
\psSolid[object=line,args=0 -4.6 -0.8 0 -4.8 -0.8,action=draw**]
\psSolid[object=line,args=0 -4.5 -0.9 0 -4.9 -0.9,action=draw**]
\psSolid[object=line,args=0 -4.7 -0.9 0 -4.7 -1.5 0 -3.85 -1.5,action=draw**]
\psSolid[object=line,args=0 -3.212 -0.28 0 -3.212 -1.5 0 -3.45 -1.5,action=draw**]
\psSolid[object=line,args=0 -3.6 -0.28 0 -3.6 -0.7,action=draw**]

\psSolid[object=plan,opacity=0.7,linecolor=black!90,fillcolor=cyan!10,definition=equation,
args={[0 -1 0 0]},base=-3.2 3.2 -3.2 3.2,plangrid](0,12,0)
\psSolid[object=plan,opacity=0.7,fillcolor=cyan!10,definition=equation,
args={[0 -1 0 0]},base=-3.2 3.2 -3.2 3.2,fontsize=8,planmarks](0,12,0)
\psSolid[object=line,linestyle=dashed,dash=3pt 2pt,linecolor=gray,args=0 -2.7 0 0 12 0]
\psSolid[object=line,linestyle=dashed,dash=3pt 2pt,linecolor=gray,args=0 6 9 10 div 0 12 9 10 div]
%
\psPoint(0,-2,0){P1}  \psPoint(0,12,0){P2}   \psPoint(0,6,0){P3}  \psPoint(-3,0,-2){P4}
\psPoint(-3,0,2){P5}  \psPoint(3,0,-2.05){P6}\psPoint(3,6,-2.05){P7}\psPoint(0,6,0.9){P8}
\psPoint(0,12,0.9){P9}\psPoint(0,12,2.7){P10}\psPoint(0,-2,0){P11}\psPoint(0,-0.5,0){P12}
\psPoint(0,7.5,0.9){P13}\psPoint(0,7.5,1.35){P14}\psPoint(0,12,-1.5){P15}
\psPoint(0,6,-1.5){P16}\psPoint(0,-2,0){P17}\psPoint(0,-4.7,-0.85){P18}
\psPoint(0,-3.65,-1.5){P19}\psPoint(0,-3.2,-3){P20}

%\uput{20pt}[12]{12}(P8){\textcolor{green}{$\alpha$}}
\uput{8pt}[173]{0}(P18){\scriptsize $U^{}_{\text{H}}$}
\uput{5pt}[-80]{0}(P19){\scriptsize $U^{}_{\text{b}}$}
\uput{5pt}[-80]{0}(P20){\scriptsize $U^{}_{\text{a}}$}
\uput{5pt}[-90]{0}(P17){\scriptsize $m$ $q$}
\psbrace(-20,-30)(-20,-30){}
\pcline[offset=0,arrowscale=1.2,arrowinset=0.1,linecolor=cyan]{->}(P8)(P14)
\naput[npos=0.5,labelsep=1pt,nrot=:U]{\textcolor{cyan}{$v^{}_{\text{ges}}$}} %$
\pcline[offset=0,arrowscale=1.2,arrowinset=0.1,linecolor=blue]{->}(P13)(P14)
\nbput[npos=0.5,labelsep=2pt]{\textcolor{blue}{$v^{}_{y}$}} %$
\pcline[offset=0,arrowscale=1.2,arrowinset=0.1,linecolor=red]{->}(P8)(P13)
\nbput[npos=0.7,labelsep=2pt]{\textcolor{red}{$v^{}_{x}$}} %$
%\psbrace[linecolor=blue,braceWidth=0pt,braceWidthInner=5pt,braceWidthOuter=5pt,nodesepB=6pt,nodesepA=-2pt,rot=90](P3)(P2){}
\psbrace[linecolor=blue,braceWidth=0.8pt,braceWidthInner=3pt,braceWidthOuter=3pt,nodesepB=5pt,nodesepA=2pt,rot=0](P9)(P10){$y^{}_{1}$}
\psbrace[linecolor=blue,braceWidth=0.8pt,braceWidthInner=3pt,braceWidthOuter=3pt,nodesepB=5pt,nodesepA=2pt,rot=0](P2)(P9){$y^{}_{0}$}
%\pstMarkAngle[arrows=<->]{P9}{P8}{P10}{\small 109,5$^{\mathrm{o}}$}
\pcline[offset=0,arrowscale=1.2,arrowinset=0.1]{<->}(P16)(P15)\ncput*{$a$}
\pcline[offset=-0.5,arrowscale=1.2,arrowinset=0.1,tbarsize=6pt]{|<->|}(P6)(P7)\ncput*{$l$}
\pcline[offset=0,arrowscale=1.2,arrowinset=0.1,tbarsize=6pt]{|<->|}(P4)(P5)\ncput*{$d$}
%
\pcline[arrowscale=1.2,arrowinset=0.1,linecolor=magenta]{->}(P11)(P12)
\nbput[labelsep=2pt,npos=0.8]{\textcolor{magenta}{$v^{}_{x}$}}
\rput(P11){\psBall[linecolor=blue,slopebegin=blue!20,sloperadius=0.1,linewidth=0.1pt,slopecenter=0.65 0.6,linestyle=solid](0,0){blue}{3.0pt}}

\psSolid[object=tronccone,r0=0.08,r1=0.05,h=0.12,fillcolor=black!60,ngrid=5 120,grid=false,opacity=0.5,RotX=180](0,3,-2.1)
\psSolid[object=line,linewidth=1pt,linecolor=black,args=0 3 -2.1 0 3 -3.0 0 -3 -3]
\psSolid[object=parallelepiped,a=6,b=6,c=0.1,fillcolor=blue!20,opacity=0.96](0,3,-2.05)

%\multido{\iA=0+1}{7}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](-1,0.15 \iA\space 0.95 mul add,2)}
\multido{\iA=0+1}{5}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](-1.0,0.2 \iA\space 1.4 mul add,2)}
\multido{\iA=0+1}{5}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](-2.8,0.2 \iA\space 1.4 mul add,2)}
\psSolid[object=plan,definition=equation,opacity=0.5,args={[1 0 0 0]},base=0 6 -2 2,plangrid,fontsize=8,RotX=90,planmarks](0,0,0)
%\multido{\iA=0+1}{7}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](0,0.15 \iA\space 0.95 mul add,2)}
%\multido{\iA=0+1}{7}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](1,0.15 \iA\space 0.95 mul add,2)}
\multido{\iA=0+1}{5}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](1.0,0.2 \iA\space 1.4 mul add,2)}
\multido{\iA=0+1}{5}{\psSolid[object=vecteur,args=0 0 -4,linecolor=brown!50,opacity=0.75](2.8,0.2 \iA\space 1.4 mul add,2)}
\psSolid[object=parallelepiped,a=6,b=6,c=0.1,fillcolor=red!20,opacity=0.96](0,3,2.05)
\psSolid[object=line,linewidth=1pt,linecolor=black,args=0 3 2.1 0 3 3.0 0 -5.5 3 0 -5.5 -3 0 -3.4 -3]
\psSolid[object=tronccone,r0=0.08,r1=0.05,h=0.12,fillcolor=black!60,ngrid=5 120,grid=false,opacity=0.5](0,3,2.1)

%--------------------------------------------------------------------------------------------------
\psSolid[object=plan,opacity=0.5,definition=equation,args={[1 0 0 0]},base=-5 15 -4 4,
  RotX=90,name=Flugebene,action=none](0,0,0)
\psSolid[object=plan,opacity=0.7,linecolor=gray!60,fillcolor=cyan!10,
  definition=equation,args={[0 -1 0 0]},base=-3.2 3.2 -3.2 3.2,name=Schirm,action=none](0,12,0)
\psProjection[object=point,plan=Schirm,dotsize=0.1,name=K,text=K,pos=ur,linecolor=green](0,2.7)

\psProjection[object=texte,text=Lochanode,fontsize=8,pos=ur,plan=Flugebene](-3.2,1.0)
\psProjection[object=texte,text=Wehneltzylinder,pos=ur,fontsize=8,plan=Flugebene](-3.6,1.4)
\psProjection[object=texte,text=Gluehwendel,pos=ur,fontsize=8,plan=Flugebene](-3.8,1.9)

\psProjection[object=texte,text=\string\141,PSfont=Symbol,fontsize=8,linecolor=green,plan=Flugebene](6.87,1.02)

\defFunction[algebraic]{f1}(t){t}{0.025*t^2}{-0.05}
\defFunction[algebraic]{f2}(x){0.025*x^2}{}{}
\defFunction[algebraic]{f3}(x){(x-6)*(3/10)+(9/10)}{}{}

\psSolid[object=plan,args=Flugebene,action=none]
\psProjection[object=courbe,linecolor=red,range=0 6,resolution=720,function=f2,plan=Flugebene]
\psProjection[object=courbe,linecolor=red,range=7.5 12,resolution=720,function=f3,plan=Flugebene]
\psProjection[object=cercle,linecolor=green,args=6 0.9 1.1,plan=Flugebene,range=0 3 10 atan]
\psProjection[object=texte,fontsize=6,text=-,plan=Flugebene,linecolor=white](-2,0)
%\psProjection[object=texte,fontsize=6,text=m q,plan=Flugebene](-2,0.2)
\psProjection[object=cercle,args=0 -3.8 -1.5 0.05,range=0 360,plan=Flugebene]
\psProjection[object=cercle,args=0 -3.5 -1.5 0.05,range=0 360,plan=Flugebene]
\psProjection[object=cercle,args=0 -3.35 -3 0.05,range=0 360,plan=Flugebene]
\psProjection[object=cercle,args=0 -3.05 -3 0.05,range=0 360,plan=Flugebene]
\psProjection[object=cercle,args=0 -3.6 -0.75 0.05,range=0 360,plan=Flugebene]
\psProjection[object=texte,fontsize=6,text=-,plan=Flugebene,linecolor=black](-3.6,-0.9)
\psProjection[object=texte,fontsize=6,text=-,plan=Flugebene,linecolor=black](-3.8,-1.3)
\psProjection[object=texte,fontsize=6,text=+,plan=Flugebene,linecolor=black](-3.5,-1.3)
\psProjection[object=texte,fontsize=6,text=+,plan=Flugebene,linecolor=black](-3.35,-2.8)
\psProjection[object=texte,fontsize=6,text=-,plan=Flugebene,linecolor=black](-3.05,-2.8)
\psProjection[object=cercle,args=0 -4.2 -1.5 0.035,fillcolor=black,fillstyle=solid,range=0 360,plan=Flugebene]
\psSolid[object=parallelepiped,a=6,b=6,c=0.1,action=none,fillcolor=blue!20,name=QuadP](0,3,-2.05)
\psSolid[object=plan,action=none,definition=solidface,args=QuadP 4,name=PP4]
\psSolid[object=parallelepiped,a=6,b=6,c=0.1,action=none,fillcolor=red!20,name=QuadM](0,3,2.05)
\psSolid[object=plan,action=none,definition=solidface,args=QuadM 4,name=PM4]
\psProjection[object=texte,linecolor=blue,fontsize=5,text=
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ,plan=PP4,phi=90]%
\psProjection[object=texte,linecolor=red,fontsize=5,text=
+ + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + ,plan=PM4,phi=90]%
%\axesIIID(-3,-1,-3)(4,7.5,3)
\end{pspicture}

\end{document}
